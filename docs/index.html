<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title>پایان‌نامه‌ی کارشناسی</title>
	<meta name="generator" content="LibreOffice 6.4.6.2 (Linux)"/>
	<meta name="created" content="2021-03-21T22:18:15.881422680"/>
	<meta name="changed" content="2021-04-02T13:11:40.071851918"/>
	<meta name="classification" content="پیاده‌سازی چهارچوب نرم‌افزاری برای توسعه‌ی نرم‌افزار‌های تحت وب"/>
	<meta name="Author" content="محمدرضا طیبی"/>
	<style type="text/css">
		@page { size: 8.27in 11.69in; margin: 0.25in }
		p { margin-bottom: 0.1in; direction: rtl; line-height: 0.3in; text-align: justify; background: transparent; page-break-before: auto }
		p.western { font-family: "B Nazanin"; font-size: 10pt }
		p.ctl { font-family: "B Nazanin"; font-size: 14pt; font-weight: normal }
		h1 { margin-bottom: 0.08in; direction: rtl; line-height: 0.2in; text-align: right; background: transparent; page-break-before: auto; page-break-after: avoid }
		h1.western { font-family: "B Nazanin"; font-size: 14pt; font-weight: bold }
		h1.cjk { font-family: "Noto Sans CJK SC"; font-size: 18pt; font-weight: bold }
		h1.ctl { font-family: "B Nazanin"; font-size: 19pt; font-weight: bold }
		td p { direction: rtl; line-height: 0.2in; text-align: justify; background: transparent; page-break-before: auto }
		td p.western { font-family: "B Nazanin"; font-size: 10pt }
		td p.ctl { font-family: "B Nazanin"; font-size: 14pt; font-weight: normal }
		p.sdfootnote-western { margin-left: 0.24in; text-indent: -0.24in; margin-bottom: 0in; direction: rtl; font-family: "B Nazanin"; font-size: 10pt; line-height: 0.2in; text-align: justify; background: transparent; page-break-before: auto }
		p.sdfootnote-cjk { margin-left: 0.24in; text-indent: -0.24in; margin-bottom: 0in; direction: rtl; font-size: 10pt; line-height: 0.2in; text-align: justify; background: transparent; page-break-before: auto }
		p.sdfootnote-ctl { margin-left: 0.24in; text-indent: -0.24in; margin-bottom: 0in; direction: rtl; font-family: "B Nazanin"; font-size: 10pt; font-weight: normal; line-height: 0.2in; text-align: justify; background: transparent; page-break-before: auto }
		pre { direction: ltr; line-height: 0.2in; text-align: left; background: transparent; page-break-before: auto }
		pre.western { font-family: "Liberation Mono", monospace; font-size: 10pt }
		pre.cjk { font-family: "Noto Sans Mono CJK SC", monospace; font-size: 10pt }
		pre.ctl { font-family: "Liberation Mono", monospace; font-size: 10pt; font-weight: normal }
		h2 { margin-top: 0.14in; margin-bottom: 0.08in; direction: rtl; line-height: 0.2in; text-align: justify; background: transparent; page-break-before: auto; page-break-after: avoid }
		h2.western { font-family: "B Nazanin"; font-size: 12pt; font-weight: bold }
		h2.cjk { font-family: "Noto Serif CJK SC"; font-size: 18pt; font-weight: bold }
		h2.ctl { font-family: "B Nazanin"; font-size: 16pt; font-weight: bold }
		h3 { margin-top: 0.1in; margin-bottom: 0.08in; direction: rtl; line-height: 0.2in; text-align: justify; background: transparent; page-break-before: auto; page-break-after: avoid }
		h3.western { font-family: "B Nazanin"; font-size: 10pt; font-weight: bold }
		h3.cjk { font-family: "Noto Sans CJK SC"; font-size: 14pt; font-weight: bold }
		h3.ctl { font-family: "B Nazanin"; font-size: 14pt; font-weight: bold }
		h3.filename-heading-1-western { border-top: 1px solid #eeeeee; border-bottom: 1px solid #eeeeee; border-left: none; border-right: none; padding: 0.02in 0in; direction: ltr; font-size: 11pt; font-style: italic; font-weight: normal; text-align: left }
		h3.filename-heading-1-cjk { border-top: 1px solid #eeeeee; border-bottom: 1px solid #eeeeee; border-left: none; border-right: none; padding: 0.02in 0in; direction: ltr; text-align: left }
		h3.filename-heading-1-ctl { border-top: 1px solid #eeeeee; border-bottom: 1px solid #eeeeee; border-left: none; border-right: none; padding: 0.02in 0in; direction: ltr; font-size: 16pt; font-style: italic; font-weight: normal; text-align: left }
		h4 { margin-top: 0.08in; margin-bottom: 0.08in; direction: rtl; line-height: 0.2in; text-align: justify; background: transparent; page-break-before: auto; page-break-after: avoid }
		h4.western { font-family: "B Nazanin"; font-size: 9pt; font-style: italic; font-weight: bold }
		h4.cjk { font-family: "Noto Sans CJK SC"; font-size: 13pt; font-style: italic; font-weight: bold }
		h4.ctl { font-family: "B Nazanin"; font-size: 13pt; font-style: italic; font-weight: bold }
		a:link { color: #000080; so-language: zxx; text-decoration: underline }
		a:visited { color: #800000; so-language: zxx; text-decoration: underline }
		a.sdfootnoteanc { font-size: 57% }
	</style>
</head>
<body lang="en-US" link="#000080" vlink="#800000" dir="rtl" style="border: 2.35pt double #000000; padding: 1in"><p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<img src="index_html_7f5fd55536ec8c61.png" name="Image1" align="bottom" width="227" height="227" border="0"/>
</p>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<br/>

</p>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>دانشکده
فنی تویسرکان</b></span></font></font></p>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>گروه
مهندسی رایانه</b></span></font></font></p>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<br/>

</p>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>پایان‌نامه‌ی
کارشناسی</b></span></font></font></p>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<br/>

</p>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">عنوان</span></font></font></p>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 16pt"><span lang="fa-IR"><b>معماری
و پیاده‌سازی چهارچوب نرم‌افزاری برای
توسعه‌ی نرم‌افزار‌های تحت وب</b></span></font></font></p>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<br/>

</p>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">نگارش</span></font></font></p>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 16pt"><span lang="fa-IR"><b>محمد‌رضا
طیبی</b></span></font></font></p>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<br/>

</p>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">استاد
راهنما</span></font></font></p>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 16pt"><span lang="fa-IR"><b>مهندس
محمد‌حسین بام‌نشین</b></span></font></font></p>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<br/>

</p>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<br/>

</p>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>زمستان
۱۳۹۹</b></span></font></font></p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><br/>

</p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in; page-break-before: always">
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>تقدیم
به</b></span></font></font></p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><br/>

</p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>شاعرانی
که در دانشگاه مهندسی خواندند،</b></span></font></font></p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>صنعت‌گران
گرفتار در عصر دلالی،</b></span></font></font></p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>اندیشمندان
بی قلم،</b></span></font></font></p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>و</b></span></font></font></p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>کودکان
کار</b></span></font></font></p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in; page-break-before: always">
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>از</b></span></font></font></p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><br/>

</p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>پدرم،
که با ساختن و فهمیدن شادمان می‌شود،</b></span></font></font></p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>و
سرلوحه‌اش در ساختن، نوآوری، دقت، و
ظرافت است؛</b></span></font></font></p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><br/>

</p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>مادرم،
که آهستگی و پیوستگی را شرط پیشرفت می‌داند؛</b></span></font></font></p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>برادرم،
که حامی شجاعی است؛</b></span></font></font></p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><b><br/>
</b><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>میثم
نگه‌دار پنیرانی برای چهار سال همدلی؛</b></span></font></font></p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><br/>

</p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>و</b></span></font></font></p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><br/>

</p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>استاد
محمدحسین بامنشین برای نمایشی بی بدیل
از شرافتِ کاری و دلسوزیِ بی چشم‌داشت؛</b></span></font></font></p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><br/>

</p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>سپاس‌گزارم</b></span></font></font><b>.</b></p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in; page-break-before: always">
<font face="B Nazanin"><font size="4" style="font-size: 16pt"><span lang="fa-IR"><b>چکیده</b></span></font></font></p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">نرم‌افزار
می‌تواند گلوگاه بخش بزرگی از قابلیت‌ها
و یا محدودیت‌های یک کسب و کار مبتنی بر
اینترنت باشد</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">هر
کسب و کار از دیدگاه مدیریتی دارای چندین
لایه با اقتضائات متفاوت از بازاریابی و
فروش، تا مدیریت داخلی است؛ همچنین هر
نرم‌افزار تحت وب دارای سطوح مختلفی از
نیاز‌ها به مجرد اقتضائات مهندسی نرم‌افزار
است</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">هدف
از چهارچوب نرم‌افزاری حاضر، پیاده‌سازی
سامانه‌ای قابل بسط و گسترش در تمامی
سطوح مدیریتی و نرم‌افزاری است تا بتوان
با صرفه‌جویی در هزینه‌های توسعه،
سامانه‌ای برای پاسخ به نیاز صنعت در کسب
و کار‌های مبتنی بر اینترنت، با قابلیت‌های
توسعه‌ی سریع نرم‌افزار فراهم نمود</span></font></font>.</p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><br/>

</p>
<p class="western" style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><b>واژه‌های
کلیدی</b></span></font></font></p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">چهارچوب
نرم‌افزاری، یک‌پارچه‌سازی، معماری
سیستم‌ها، درگاه برنامه‌نویسی برنامه‌ی
کاربردی </span></font></font>(API)</p>
<p class="western" align="justify" style="margin-bottom: 0in; line-height: 0.2in; page-break-before: always">
<br/>

</p>
<div id="Table of Contents1" dir="rtl">
	<div id="Table of Contents1_Head" dir="rtl"><p align="right" style="margin-top: 0.17in; margin-bottom: 0.08in; line-height: 0.2in; page-break-after: avoid">
		<font face="B Nazanin"><font size="4" style="font-size: 16pt"><span lang="fa-IR"><b>فهرست</b></span></font></font></p>
	</div>
	<p style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc11280_2132680262">۱
	فصل اول مقدمه</span></font></font>	1</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc428_1323905796">۱</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۱
	پیش‌گفتار</span></font></font>	2</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc561_1622172937">۱</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۲
	توجیه</span></font></font>	2</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc1090_1308794734">۱</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۳
	تاریخچه‌ی این پروژه</span></font></font>	3</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc670_1323905796">۱</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۴
	متن نرم‌افزار</span></font></font>	4</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc1100_1308794734">۱</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۵
	مستند‌سازی‌های برخط</span></font></font>	4</a></p>
	<p style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc11182_2132680262">۲
	فصل دوم مفاهیم و تعاریف</span></font></font>	5</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc320_2915462205">۲</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۱
	منطق کسب‌و‌کار </span></font></font>(Business
	Logic)	6</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc848_2332448026">۲</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۲
	کارساز </span></font></font>(Server)	6</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc852_2332448026">۲</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۳
	مدل </span></font></font>Open Systems Interconnection (OSI)	7</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc11382_1444610035">۲</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۱
	لایه‌ی فیزیکی</span></font></font>	7</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc11384_1444610035">۲</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۲
	لایه اتصال داده</span></font></font>	7</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc1474_3955012562">۲</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۳
	لایه شبکه</span></font></font>	7</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc1476_3955012562">۲</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۴
	لایه‌ی کاربرد</span></font></font>	8</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc856_2332448026">۲</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۴
	پایگاه‌داده </span></font></font>(Database)	8</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc858_2332448026">۲</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۴</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۱
	سامانه‌ی مدیریت پایگاه‌داده </span></font></font>(DBMS)	8</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc1142_3955012562">۲</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۵
	زبان برنامه‌نویسی </span></font></font>PHP	9</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc1144_3955012562">۲</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۶
	کارساز وب</span></font></font>	9</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc860_2332448026">۲</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۷
	معماری نرم‌افزار</span></font></font>	10</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc864_2332448026">۲</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۸
	الگوی </span></font></font>MVC	10</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc1385_1317651890">۲</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۸</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۱
	کنترلر </span></font></font>(Controller)	10</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc870_2332448026">۲</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۸</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۲
	ویو </span></font></font>(View)	10</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc872_2332448026">۲</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۸</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۳
	مدل </span></font></font>(Model)	11</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc866_2332448026">۲</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۹
	هسته‌ی نرم‌افزار </span></font></font>(Software
	Core)	11</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc874_2332448026">۲</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۱۰
	قابلیت نرم‌افزاری </span></font></font>(Feature)	11</a></p>
	<p style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc11282_2132680262">۳
	فصل سوم شیوه کارکرد هر بخش</span></font></font>	12</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc11214_3711682929">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۱
	چرخه‌ی حیات برنامه در یک درخواست</span></font></font>	13</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc737_2332448026">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۲
	ساختار پوشه‌بندی</span></font></font>	13</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc1387_1317651890">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۳
	چرخه‌ی زندگی </span></font></font>(Life Cycle)	16</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc1146_3955012562">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۴
	فایل پیکربندی </a></span></font></font><i><a href="#__RefHeading___Toc1146_3955012562">.</a><a href="#__RefHeading___Toc1146_3955012562">h</a><a href="#__RefHeading___Toc1146_3955012562">taccess</a></i><a href="#__RefHeading___Toc1146_3955012562">	16</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc1148_3955012562">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۵
	فایل پیکر بندی </a></span></font></font><a href="#__RefHeading___Toc1148_3955012562"><i>Config.php</i></a><a href="#__RefHeading___Toc1148_3955012562">	17</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc1150_3955012562">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۶
	فایل آغازین برنامه </a></span></font></font><a href="#__RefHeading___Toc1150_3955012562"><i>index.php</i></a><a href="#__RefHeading___Toc1150_3955012562">	17</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc739_2332448026">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۷
	هسته </span></font></font>(Core)	17</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc10874_3878499706">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۷</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۱
	هسته‌ی مسیریاب </span></font></font>(</a><a href="#__RefHeading___Toc10874_3878499706"><i>Route.php</i></a><a href="#__RefHeading___Toc10874_3878499706">)	17</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc10876_3878499706">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۷</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۲
	هسته‌ی میان‌افزار </span></font></font>(</a><a href="#__RefHeading___Toc10876_3878499706"><i>Middleware.php</i></a><a href="#__RefHeading___Toc10876_3878499706">)	17</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc10878_3878499706">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۷</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۳
	هسته‌ی خطا </span></font></font>(</a><a href="#__RefHeading___Toc10878_3878499706"><i>Exceptions.php</i></a><a href="#__RefHeading___Toc10878_3878499706">)	18</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc10880_3878499706">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۷</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۴
	هسته‌ی احراز هویت </span></font></font>(</a><a href="#__RefHeading___Toc10880_3878499706"><i>Auth.php</i></a><a href="#__RefHeading___Toc10880_3878499706">)	18</a></p>
	<p style="margin-left: 0.59in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc10882_3878499706">فایل
	</a></span></font></font><a href="#__RefHeading___Toc10882_3878499706"><i>.htpasswd</i></a><a href="#__RefHeading___Toc10882_3878499706">	18</a></p>
	<p style="margin-left: 0.59in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc10884_3878499706">تابع
	احراز هویت</span></font></font>	18</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc10886_3878499706">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۷</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۵
	هسته‌ی کاربرد </span></font></font>(</a><i><a href="#__RefHeading___Toc10886_3878499706">App</a><a href="#__RefHeading___Toc10886_3878499706">.php</a></i><a href="#__RefHeading___Toc10886_3878499706">)	18</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc10888_3878499706">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۷</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۶
	هسته‌ی کاربرد واسط برنامه‌نویسی
	کاربردی </span></font></font>(</a><a href="#__RefHeading___Toc10888_3878499706"><i>ApiApp.php</i></a><a href="#__RefHeading___Toc10888_3878499706">)	19</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc1389_1317651890">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۷</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۷
	هسته‌ی مدل </span></font></font>(Model.php)	19</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc1391_1317651890">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۷</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۸
	هسته‌ی کنترلر </span></font></font>(Controller.php)	19</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc1393_1317651890">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۷</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۹
	هسته‌ی کنترلر </span></font></font>API
	(ApiController.php)	19</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc1152_3955012562">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۸
	پوشه‌ی </span></font></font>view	19</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc1154_3955012562">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۹
	پوشه‌ی </span></font></font>controller	19</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc1156_3955012562">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۱۰
	پوشه‌ی </span></font></font>API	20</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc1158_3955012562">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۱۱
	پوشه‌ی </span></font></font>gui	20</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc10890_3878499706">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۱۲
	هلپر‌ها </span></font></font>(Helper)	20</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc10892_3878499706">۳</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۱۳
	قالب‌ها </span></font></font>(Layout)	20</a></p>
	<p style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc11284_2132680262">۴
	فصل چهارم نصب، توسعه و راه‌اندازی</span></font></font>	21</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc775_2332448026">۴</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۱
	نصب برنامه</span></font></font>	22</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc777_2332448026">۴</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۲
	پیکربندی چهارچوب نرم‌افزاری</span></font></font>	22</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc779_2332448026">۴</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۳
	پیاده‌سازی یک مدل </span></font></font>(Model)	22</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc781_2332448026">۴</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۴
	پیاده‌سازی یک ویو </span></font></font>(View)	23</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc783_2332448026">۴</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۵
	پیاده‌سازی یک کنترلر </span></font></font>(Controller)	24</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc10894_3878499706">۴</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۶
	پیاده‌سازی یک کنترلر </span></font></font>(API
	Controller)	28</a></p>
	<p style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc11286_2132680262">۵
	فصل پنجم جمع‌بندی و نتیجه‌گیری</span></font></font>	31</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc10896_3878499706">۵</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۱
	نتیجه‌گیری</span></font></font>	32</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc10898_3878499706">۵</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۲
	پیشنهاد</span></font></font>	32</a></p>
	<p style="margin-bottom: 0in; line-height: 0.2in"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc11288_2132680262">۶
	فصل ششم پیوست</span></font></font>	33</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><a href="#__RefHeading___Toc11196_762396803">۶</span></font></font>.<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">۱
	کدها</span></font></font>	34</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<a href="#__RefHeading___Toc11032_2828605944">i. .htaccess	34</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<a href="#__RefHeading___Toc1148_39550125621">ii. Config.php	34</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<a href="#__RefHeading___Toc1150_39550125621">iii. Index.php	36</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<a href="#__RefHeading___Toc10874_38784997061">iv. Route.php	39</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<a href="#__RefHeading___Toc10876_38784997061">v. Middleware.php	41</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<a href="#__RefHeading___Toc10878_38784997061">vi. Exceptions.php	43</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<a href="#__RefHeading___Toc10880_38784997061">vii. Auth.php	43</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<a href="#__RefHeading___Toc10886_38784997061">viii. App.php	47</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<a href="#__RefHeading___Toc10888_38784997061">ix. ApiApp.php	56</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<a href="#__RefHeading___Toc11034_2828605944">x. Model.php	61</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<a href="#__RefHeading___Toc1391_13176518901">xi. Controller.php	65</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in; line-height: 0.2in">
	<a href="#__RefHeading___Toc11036_2828605944">xii.
	ApiController.php	76</a></p>
</div>
<p align="right" style="margin-top: 0.17in; margin-bottom: 0.08in; line-height: 0.2in; page-break-after: avoid">
<br/>
<br/>

</p>
<h1 class="western" style="page-break-before: always"><a name="__RefHeading___Toc11280_2132680262"></a>
<font face="B Nazanin"><font size="5"><span lang="fa-IR">۱فصل
اول</span></font></font><br/>
<font face="B Nazanin"><font size="5" style="font-size: 19pt"><span lang="fa-IR">مقدمه</span></font></font></h1>
<h2 class="western" style="page-break-before: always"><a name="__RefHeading___Toc428_1323905796"></a>
<font size="5"><span lang="fa-IR">۱.۱پیش‌گفتار</span></font></span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">چهارچوب‌های
نرم‌افزاری ساخته می‌شوند تا هزینه‌های
مختلفی از فرایند تولید و بهره‌برداری
از نرم‌افزار کاهش دهند</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
هزینه‌ها شامل هزینه‌ی تحلیل، معماری،
توسعه، تا استفاده از منابع سخت‌افزاری
و سرعت پاسخگویی را شامل می‌شوند</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">بسیاری
از نرم‌افزار‌های تحت وب </span></font></font>(<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">مانند
برند‌های شخصی، امور مدیریتی کسب‌و‌کارها،
و برخی شبکه‌های اجتماعی</span></font></font>) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">از
الگوی چرخه‌ی حیات </span></font></font>(Life Cycle)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">نسبتاً
مشابهی پیروی می‌کنند؛ به این صورت که</span></font></font>:
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">درخواست
</span></font></font>(Request) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
قالبی استاندارد، از سمت مخاطب </span></font></font>(Client)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">ارسال
می‌شود، پردازش می‌شود، و پاسخ </span></font></font>(Response)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">به
مشتری بازگردانده می‌شود، و در تمام این
مدت، ارتباط برقرار </span></font></font>(Persistent
Connection) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">است</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">تحلیل
چنین برنامه‌هایی از نظر مهندسی نرم‌افزار
مدت‌هاست که به مسائلی حل شده تبدیل
شده‌اند و امروزه متخصصان و واحد‌های
صنعتی در پی بهینه‌سازی </span></font></font>(Optimization)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
راه‌کار‌های نرم‌افزاری </span></font></font>(Software
Solutions) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">هستند</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">معطوف
شدن توجه‌ها به معماری </span></font></font>Model-View-Controller
(MVC) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">و
تعاملات </span></font></font>RESTful <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">با
ساختار </span></font></font>JSON <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">از
پیامد‌های همین احساس نیاز در صنعت است</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">چهارچوب
نرم‌افزاری حاضر امکان توسعه‌ی سمت
کارپرداز </span></font></font>(Server-Side) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">را
ساده‌تر ممکن می‌کند</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc561_1622172937"></a><font size="5"><span lang="fa-IR">۱.۲توجیه</span></font></span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">امروزه
کسب‌و‌کار‌ها و تشکیلات به دنبال
پیاده‌سازی پایگاه‌های اطلاعاتی و
تعاملی در اینترنت و سایر شبکه‌ها هستند</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">صنعت
نرم‌افزار، همواره به دنبال اینجاد
راه‌هایی برای توسعه‌ی سریع‌تر و همچنین
اجرای سریع‌تر برنامه‌ها بوده است</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">برنامه‌های
تحت وب نیز از این روال جدا نبوده‌اند</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">از
آن‌جا که طراحی و تولید برنامه‌های مشابه
از الگو‌های مشابه پیروی می‌کند، می‌توان
آن‌ها را در قالب چهارچوب‌های نرم‌افزاری
</span></font></font>(Software Frameworks) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">پیاده‌سازی
کرد</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">زبان‌های
برنامه‌نویسی برای این موضوع طراحی
شده‌اند تا علاوه بر سهولت برنامه‌نویسی
برای اپراتور، برنامه‌نویس را از دغدغه‌ی
درخواست‌های سطح پایین سیستمی برهانند</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">سپس
چهار‌چوب‌های نرم افزاری در سطح کامپایلر
به کار گرفته شدند تا برنامه‌نویس‌ها
را از دغدغه‌های استفاده از منابع، </span></font></font>i/o<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">،
شبکه، آرایه‌ها، معادلات ریاضی و غیره
آزاد کنند</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">زمانی
که صحبت از تولید برنامه‌های سازمانی به
میان آمد، معماری‌های پیشنهادی برای
تولید نرم‌افزار‌ه </span></font></font>(Software
Architectures) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">به
سمتی حرکت کرد که در کنار </span></font></font>Performance
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">مناسب،
خوانایی و قواعدی نظام‌مند داشته باشند
تا مدیران پروژه بتوانند تمرکز توسعه‌ی
نرم‌افزار را بر منطق‌های کسب‌و‌کار
معطوف کنند</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
معماری‌ها به نحوی طراحی شده‌اند که با
یک‌بار پیاده‌سازی منطق‌های ارتباط با
پایگاه‌داده، ارتباط با نرم‌افزار‌های
سوم شخص، ارتباط با انسان، و غیره، در
قالب توابع و چرخه‌ی زندگی نرم‌افزار
</span></font></font>(Software Life Cycle)<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">،
تنها آن‌ها را فراخوانی کرد؛ برای مثال
 این فلسفه در معماری دولت الترونیک
سنگاپور در سطح کلان و بین سیستمی به کار
گرفته شد، و تبدیل به اصلی شد که آن را
</span></font></font>«<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">اصلِ
فقط یک بار</span></font></font>» (Once Only Principal)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">می‌نامند
و معنای آن این است که دولت حق ندارد داده‌ی
مشابهی را بیش از یک‌بار از افراد دریافت
کند</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
نتجه می‌توان با پیاده‌سازی یک چهارچوب
نرم‌افزاری در سطحی بالاتر، دغدغه را از
معماری و موارد اولیه‌ی امنیت هم در سطح
بالاتری ببرد تا توجه توسعه‌دهندگان را
به نیاز‌های کسب‌و‌کار معطوف کند</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">چنین
سیستمی به اپراتور اجازه می‌دهد تا با
یک‌بار پیاده‌سازی سطح دسترسی کاربران،
و یک‌بار پیاده‌سازی برنامه‌ی اجرای
فرایندی خاص، به سرعت نیاز‌های کسب‌و‌کار
را مرتفع کند</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">چهارچوب
نرم‌افزاری حاضر، ارتباط با برنامه‌های
موبایل، سرور‌های شخص سوم، و برخی از
قابلیت‌های توسعه‌ی سریع منطق کسب‌و‌کار
مانند ایجاد اعمال </span></font></font>CRUD <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">بر
روی جداول را در اولویت پیاده‌سازی خود
دارد</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">با
استفاده از چهارچوب نرم‌افزاری حاضر که
بر پایه‌ی معماری </span></font></font>MVC RESTful API
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">ایجاد
شده است، می‌توان به سرعت منطق کسب‌و‌کار
را بدون نگرانی از شیوه‌ی ارتباط با
موبایل و پایگاه‌داده پیاده‌سازی کرده
و برنامه را منتشر کرد</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
چهارچوب نرم‌افزار، فرایند مسیردهی
</span></font></font>(Routing) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">آدرس
در لایه‌ی ۷ مدل </span></font></font>OSI <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">و
تبدیل ورودی خروجی‌های </span></font></font>JSON
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">را
همچنین ممکن کرده است</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">لازم
به ذکر است که این چهارچوب نرم‌افزاری
در حال حاضر توسط برخی واحد‌های صنعتی
در حال بهره‌برداری است</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc1090_1308794734"></a><font size="5"><span lang="fa-IR">۱.۳<font face="B Nazanin"><font size="5" style="font-size: 20pt"><b>تا</b></font></font>ریخچه‌ی
این پروژه</span></font></span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">ابتدای</span></font></font>
سال ۱۳۹۳ خورشیدی، این پروژه تحت عنوان
سیستم مدیریت محتوای </span></font></font>«<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">شهر
برفی</span></font></font>» <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">آغاز
به کار کرد</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">که
سورس کد آن پروژه در آدرس زیر در دسترس
است</span></font></font>.</p>
<p dir="ltr" class="western"><a href="https://github.com/tayyebi/SnowCity">https://github.com/tayyebi/SnowCity</a></p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">سال
۱۳۹۵ آغاز مطالعات ایجاد یک فریم‌ورک
بهینه و سریع بر پایه‌ی زبان‌های </span></font></font>C++
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">و
</span></font></font>PHP <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">انجام
شد</span></font></font>.</p>
<p dir="ltr" class="western"><a href="https://github.com/tayyebi/SnowCity-v2">https://github.com/tayyebi/SnowCity-v2</a></p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">سال
۱۳۹۷ پیاده‌سازی یک </span></font></font>«<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">سامانه‌ی
مدیریت دانش</span></font></font>» <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">با
هدف پوشش دادن نیاز‌های بازار برای
وب‌سایت‌های آموزشی، برند‌ها، و مجلات
آغاز شد</span></font></font>.</p>
<p dir="ltr" class="western"><a href="https://github.com/Gordarg/SnowFramework">https://github.com/Gordarg/SnowFramework</a></p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">سال
۱۳۹۹ پروژه‌ی حاضر با هدف استفاده از
امکانات سامانه‌ی مدیریت دانش مذکور بر
پایه‌ی یک معماری بهینه، و همچنین به
عنوان پروژه‌ی پایانی دوره‌ی کارشناسی
مهندسی کامپیوتر، گرایش فناوری اطلاعات،
به دپارتمان مهندسی کامپیوتر دانشکده‌ی
فنی تویسرکان، دانشگاه بوعلی سینا، ارائه
شد</span></font></font>.</p>
<p dir="ltr" class="western"><a href="https://github.com/Gordarg/SF">https://github.com/Gordarg/SF</a></p>
<h2 class="western"><a name="__RefHeading___Toc670_1323905796"></a><font size="5"><span lang="fa-IR">۱.۴متن
نرم‌افزار</span></font></span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
برنامه به صورت متن‌باز </span></font></font>(Open
Source) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">با
پروانه‌ی </span></font></font>MIT <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
پایگاه اینترنتی گیت‌هاب به نشانی زیر
در دسترس است</span></font></font>:</p>
<p dir="ltr" class="western"><a href="https://github.com/Gordarg/SF">https://github.com/Gordarg/SF</a></p>
<h2 class="western"><a name="__RefHeading___Toc1100_1308794734"></a><font size="5"><span lang="fa-IR">۱.۵مستند‌سازی‌های
برخط</span></font></span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">برای
مستند سازی‌های به روز به نشانی زیر
مراجعه کنید</span></font></font>:</p>
<p dir="ltr" class="western"><a href="https://gordarg.github.io/SF">https://gordarg.github.io/SF</a></p>
<h1 class="western" style="page-break-before: always"><a name="__RefHeading___Toc11182_2132680262"></a>
<font face="B Nazanin"><font size="5"><span lang="fa-IR">۲فصل
دوم</span></font></font><br/>
<font face="B Nazanin"><font size="5" style="font-size: 19pt"><span lang="fa-IR">مفاهیم
و تعاریف</span></font></font></h1>
<h2 class="western" style="page-break-before: always"><a name="__RefHeading___Toc320_2915462205"></a>
<font size="5"><span lang="fa-IR">۲.۱منطق کسب‌و‌کار
</span></font>(Business Logic)<a class="sdfootnoteanc" name="sdfootnote1anc" href="#sdfootnote1sym"><sup>1</sup></a></span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">به
قواعد </span></font></font>(Rules) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">یا
الگورتیم‌های شخصی‌سازی شده </span></font></font>(Custom)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">تبادل
</span></font></font>(Exchange) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">داده‌ها
بین واسط کاربری </span></font></font>(User Interface) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">و
پایگاه‌داده </span></font></font>(Database)<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">،
منطق کسب‌و‌کار گفته می‌شود</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
قواعد می‌توانند بر اساس جریان‌های کاری
</span></font></font>(Workflows) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">کسب‌و‌کار
ایجاد شده باشند</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">منطق
کسب و کار در لایه‌ی بالاتری از کد‌هایی
قرار می‌گیرد که برای نگه‌داری از زیرساخت
پایه‌ی رایانه </span></font></font>(Basic Computer
Infrastructure) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">مورد
استفاده قرار <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">می‌گیرند</span></font></font></span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">.</font></font></p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">برای
مثال</span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">:
</font></font><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">یک
قاعده‌ی کسب‌و‌کار </span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">(Business
Rule) </font></font><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
یک بنگاه اقتصادی وجود دارد که افرادی که
پیشاپیش هزینه‌ی ماهانه‌ی سرویس خود را
می‌پردازند را به عنوان مشتریان خوش‌حساب
نشانه‌گذاری می‌کند</span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">.</font></font></p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">توجه</span></font></font></span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">:
</font></font><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">منطق
کسب‌و‌کار لزوماً </span></font></font><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">به
فرایند‌های پولی محدود نمی‌شو</span></font></font><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">د</span></font></font></span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">.</font></font></p>
<h2 class="western"><a name="__RefHeading___Toc848_2332448026"></a><font size="5"><span lang="fa-IR">۲.۲کارساز
</span></font>(Server)</span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">تعریف
این واژه در علم شبکه‌های کامپیوتری آن
است که اگر در <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">لحظه</span></font></font>
مبادله‌ی اطلاعات در یک شبکه‌ی کامپیوتری،
یک گره </span></font></font>(Node) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">که
می‌تواند هرگونه کامپیوتری </span></font></font>(<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">مانند
تلفن همراه، لپ‌تاپ، و یا حتی پرینتر</span></font></font>)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">باشد
اگر ارسال کننده‌ی داده‌ها باشد کارساز
</span></font></font>(Server) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">نامیده
شود و اگر دریافت‌کننده‌ی داده باشد
مشتری </span></font></font>(Client) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">باشد
</span></font></font>/ <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">باشند</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">اما
در تعریف‌هایی که متخصصان با دید کلی‌تری
از یک سیستم ارائه می‌دهند، به صورت کلی
به کامپیوتری که ابزار لازم برای ارائه‌ی
سرویس‌های مشخص در شبکه را دارد و توسط
یک یا چند کامپیوتر دیگر قابل دسترسی است
سرور گفته می‌شود</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">سرور‌ها
معمولاً برخط </span></font></font>(Online) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">و
معمولاً همیشه آماده‌ی پاسخگویی به
درخواست‌های ارسال شده‌ی مشتریان هستند</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
این سند، منظور از سرور، کامپیوتری است
که از طریق شبکه می‌توان به سرویس‌دهنده‌ی
وب آن دسترسی پیدا کرد</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
ادامه پس از ارائه‌ی چند تعریف به شرح
</span></font></font>«<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">سرویس‌دهنده‌ی
وب</span></font></font>» <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">نیز
خواهیم پرداخت</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc852_2332448026"></a><font size="5"><span lang="fa-IR">۲.۳مدل
</span></font>Open Systems Interconnection (OSI)<a class="sdfootnoteanc" name="sdfootnote2anc" href="#sdfootnote2sym"><sup>2</sup></a></span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">مدل
</span></font></font>OSI <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">یک
چهارچوب انتزاعی است که برای تشریح شیوه‌ی
عمل‌کرد یک سامانه‌ی شبکه استفاده
می‌شود</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
مدل، توابع عملیاتی را به عنوان یک مجموعه
سراسری از قوانین و نیازها توصیف می کند
تا از عملکردگرایی بین محصولات و نرم
افزارهای مختلف پشتیبانی کند</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
مدل مرجع </span></font></font>OSI <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">ارتباطات
بین یک سامانه‌ی کامپیوتری در هفت لایه
تقلیل یافته است</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">که
به ترتیب ۱</span></font></font>- <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">فیزیکی
</span></font></font>(Physical)<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">؛
۲</span></font></font>- <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">اتصال
داده </span></font></font>(Data link)<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">؛
۳</span></font></font>- <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">شبکه
</span></font></font>(Network)<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">؛
۴</span></font></font>- <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">انتقال
</span></font></font>(Transport)<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">؛
۵</span></font></font>- <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">نشست</span></font></font>(Session)<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">؛
۶</span></font></font>- <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">ارائه
</span></font></font>(Presentation)<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">؛
۷</span></font></font>- <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">کاربرد
</span></font></font>(Application)<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">؛
هستند</span></font></font>.</p>
<h3 class="western"><a name="__RefHeading___Toc11382_1444610035"></a><font face="B Nazanin"><font size="4"><span lang="fa-IR">۲.۳.۱لایه‌ی
فیزیکی</span></font></font></span></font></font></span></font></font></h3>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">پایین‌ترین
لایه‌ی مدل </span></font></font>OSI <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">که
انتقال داده‌های بی ساختار خام </span></font></font>(raw
unstructured) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">را
به صورت سیگنال‌های رادیویی،  نوری، و
یا الکتریکی، از خروجی فیزیکی دستگاه
ارسال کننده </span></font></font>(sender) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">به
دستگاه گیرنده </span></font></font>(reciever) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">بر
عهده دارد را لایه‌ی فیزیکی نامند</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
لایه شامل دستگاه‌هایی مانند هاب‌ها
</span></font></font>(hub)<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">،
کابل‌ها، تقویت‌کننده‌ها </span></font></font>(repeaters)<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">،
و یا تبدیل کننده‌های آنالوگ به دیجیتال
</span></font></font>(modem) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">است</span></font></font>.</p>
<h3 class="western"><a name="__RefHeading___Toc11384_1444610035"></a><font face="B Nazanin"><font size="4"><span lang="fa-IR">۲.۳.۲لایه
اتصال داده</span></font></font></span></font></font></span></font></font></h3>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
این لایه داده‌ها در قالب فریم‌ها </span></font></font>(frame)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">بسته‌بندی
</span></font></font>(packaging) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">می‌شوند</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
لایه همچنین وظیفه‌ی اصلاح <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">خطاهای
احتمالی </span></font></font>که در لایه‌ی فیزیکی
رخ داده‌اند را بر عهده دارد</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
لایه شامل دو زیر لایه‌ی </span></font></font>1-
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">کنترل
دسترسی رسانه </span></font></font>(MAC) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">و
۲</span></font></font>- <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">کنترل
منطقی اتصال </span></font></font>(LLC) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">می‌شود</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">مک
</span></font></font>(MAC) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">امکان
مدیریت جریان و تسهیم </span></font></font>(multiplexing)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">را
برای انتقال داده در سطح شبکه فراهم
می‌کند</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">و
کنترل اتصال منطقی کنترل جریان و خطاها
را برعهده دارد</span></font></font>.</p>
<h3 class="western"><a name="__RefHeading___Toc1474_3955012562"></a><font face="B Nazanin"><font size="4"><span lang="fa-IR">۲.۳.۳لایه
شبکه</span></font></font></span></font></font></span></font></font></h3>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
لایه مسول دریافت فریم‌ها از لایه‌ی
اتصال داده و رساندن آن‌ها به مقصد‌هایی
که در داخل فریم تعیین شده هستند</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
لایه، مقصد‌ها را بر اساس آدرس‌های منطقی
مانند آی‌پی </span></font></font>(Internet Protocol –
IP) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">می‌شناسد</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
این لایه، مسیریاب‌ها </span></font></font>(router)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">تصمیم
می‌گیرند که داده را به کدام سمت هدایت
کنند</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">نکته</span></font></font>:
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">روتینگ
لایه‌ی ۳ با روتینگ لایه‌ی ۷ متفاوت است</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">مفهوم
روتینگ که در معماری </span></font></font>MVC <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">برای
وب بحث می‌شود، به معنی آدرس‌دهی به
کد‌های مربوط به هر درخواست کاربر است
که در ادامه آن را به صورت کامل بررسی
می‌کنیم</span></font></font>.</p>
<h3 class="western"><a name="__RefHeading___Toc1476_3955012562"></a><font face="B Nazanin"><font size="4"><span lang="fa-IR">۲.۳.۴لایه‌ی
کاربرد</span></font></font></span></font></font></span></font></font></h3>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
این لایه کاربر نهایی </span></font></font>(end user)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">و
لایه‌ی کاربرد، هر دو، مستقیماً با
نرم‌افزار‌های کاربردی تعامل </span></font></font>(interact)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">می‌کنند</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">نرم‌افزار‌های
کاربردی می‌توانند شامل مرورگر‌های وب،
کارساز‌های وب، نرم‌افزار‌های ایمیل،
نمایشگر‌های ویدیوی تحت </span></font></font>RTMP<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">،
و غیره باشند</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">نکته</span></font></font>:
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">چهارچوب
نرم‌افزاری حاضر، به عنوان یک نرم‌افزار
کاربردی، با این لایه در ارتباط است</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc856_2332448026"></a><font size="5"><span lang="fa-IR">۲.۴پایگاه‌داده
</span></font>(Database)<a class="sdfootnoteanc" name="sdfootnote3anc" href="#sdfootnote3sym"><sup>3</sup></a></span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">پایگاه‌داده
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">کلکسیونی
</span></font></font></span></font></font>(collection) – <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">کلکسیون
با مجموعه متفاوت است – از اطلاعات ساختار
یافته و یا داده است، که معمولاً به صورت
الکترونیکی در یک سیستم کامپیوتری ذخیره
شده است</span></font></font>.</p>
<h3 class="western"><a name="__RefHeading___Toc858_2332448026"></a><font face="B Nazanin"><font size="4"><span lang="fa-IR">۲.۴.۱سامانه‌ی
مدیریت پایگاه‌داده </span></font></font>(DBMS)</span></font></font></span></font></font></h3>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">یک
پایگاه‌داده معمولاً توسط یک دی‌بی‌ام‌اس
مدیریت می‌شود</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">پایگاه‌داده،
دی‌بی‌ام‌اس، و برنامه‌هایی که با
آن‌ها در ارتباط هستند را به عنوان
سامانه‌ی پایگاه‌داده </span></font></font>(Database
System) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">می‌شناسند
که به صورت خلاصه پایگاه‌داده نامیده
می‌شوند</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">داده‌هایی
که امروز در پایگاه‌های داده‌ی عملیاتی
مورد استفاده قرار می‌گیرند، به صورت
سطر و ستون‌های جداول مدل می‌شوند تا به
پردازش و تعامل </span></font></font>(querying) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">با
داده‌ها را <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">موثرتر</span></font></font>
کنند</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
داده‌ها می‌توانند راحت‌تر مدیریت
شوند، دسترس‌پذیر باشند، ویرایش شوند،
به‌روز‌رسانی شوند، کنترل شوند، و
سازماندهی شوند</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">بیشتر
پایگاه‌های داده از زبان پرسش‌و‌پاسخ
ساختار یافته </span></font></font>(Structured Query
Language – SQL) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">برای
نوشتن و تعامل با داده‌ها استفاده می‌کنند</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc1142_3955012562"></a><font size="5"><span lang="fa-IR">۲.۵زبان
برنامه‌نویسی </span></font>PHP<a class="sdfootnoteanc" name="sdfootnote4anc" href="#sdfootnote4sym"><sup>4</sup></a></span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">پیش‌پردازش‌گر
ابر متن</span></font></font> </span></font></font>(Hypertext
Preprocessor) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">یک
زبان پر استفاده متن‌باز </span></font></font>(Open
source) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">است</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">کد‌های
پی‌اچ‌پی که اسکریپت </span></font></font>(script)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">نامیده
می‌شوند، روی کارسازاجرا </span></font></font>(execute)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">می‌شوند</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">پی‌اچ‌پی
همه منظوره </span></font></font>(general-purpose) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">است
که برای <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">توسعه‌ی</span></font></font>
مناسب‌سازی شده است</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
زبان سریع، منعطف، و عمل‌گرا </span></font></font>(pragmatic)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">است
که از وب‌لاگ‌های شخصی تا وب‌سایت‌های
بزرگ را می‌توان با آن توسعه داد</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc1144_3955012562"></a><font size="5"><span lang="fa-IR">۲.۶کارساز
وب</span></font></span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">کارساز</span></font></font>
وب نرم‌افزاری است که وظیفه‌ی پردازش
صفحات پویای وب و نرم‌افزار‌های تحت وب
را برعهده دارد</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
کارساز همچنین می‌تواند با اجرای یک یا
چند نمونه </span></font></font>(Instance) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">از
سامانه‌ی مدیریت پایگاه‌داده، پردازش
پایگاه‌های داده را نیز به عهده بگیرد؛
و یا ساز و کاری برای ارتباط با کارساز
پایگاه‌داده داشته باشد</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
مورد برای کارساز‌های دیگر مانند
کارساز‌های پست الکترونیک </span></font></font>(Mail
Server)<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">،
کارساز فایل‌ها </span></font></font>(File Server) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">غیره
نیز قابل تعمیم است</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
صورتی که یک کارساز وب پشتیبانی کاملی از
خدمات موردنیاز یک وب‌سایت انجام دهد،
می‌توان آن را یک میزبان </span></font></font>(Host)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">برای
آن نرم‌افزار تحت‌وب دانست</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">همچنین
می‌توان به این کارساز‌ها آدرس‌های
دامنه </span></font></font>(Domain Name Address) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">اختصاص
داد</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">اگر
این کارساز به طور همزمان میزبان چند
نرم‌افزار تحت‌وب مهمان باشد، می‌توان
آن را یک <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">هاست
اشتراکی </span></font></font></span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">(Shared
Host)</font></font> <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">دانست
که از قابلیت <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">هاست
مجازی </span></font></font></span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">(Virtual
Host)</font></font> <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">بهره
می‌برد</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">لازم
به ذکر است که <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">هاست
مجازی</span></font></font> به معنی سرویس‌دادن
به چند برنامه‌ی تحت‌وب توسط یک میزبان
است که هر برنامه می‌تواند با یک یا چند
آدرس دامنه شناخته شود؛ و این مفهوم با
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">سرور
اشتراکی </span></font></font></span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">(Shared
Server)</font></font> <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">که
به معنی کارسازی است که منابع خود را بین
چند کاربر </span></font></font>(User) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">به
اشتراک گذاشته است، و یا مفهوم <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">سرور
مجازی </span></font></font></span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">(Virtual
Server)</font></font> <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">که
به معنی کارسازی است که با استفاده از
تکنولوژی‌های شبیه‌سازی </span></font></font>(Virtualization)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">مانند
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">هایپروایزر
</span></font></font></span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">(Hypervisor)
</font></font><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">های
مختلف در دسترس قرار گرفته است</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc860_2332448026"></a><font size="5"><span lang="fa-IR">۲.۷معماری
نرم‌افزار<a class="sdfootnoteanc" name="sdfootnote5anc" href="#sdfootnote5sym"><sup>5</sup></a></span></font></span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">معماری
به معنای طرح‌اولیه‌ی یک سامانه با شناخت
رفتار آن  است که <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">سازوکار
تقلیل‌یافته‌ای </span></font></font>برای مدیریت
پیچیدگی یک سامانه را ارائه کرده، و
مکانیزم ارتباط و همکاری بین بخش‌ها را
برقرار می‌کند</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">معماری،
راه‌کاری ساختاریافته را برای پاسخگویی
به تمامی نیاز‌های عملیاتی و فنی تعریف
می‌کند؛ در عین حال ویژگی‌هایی برای
بهینه‌سازی سامانه مانند کارایی
</span></font></font>(performance) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">و
امنیت </span></font></font>(security) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">را
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">ایجاد</span></font></font>
می‌کند</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">تصمیم‌هایی
که در معماری نرم‌افزار گرفته می‌شود
ارتباط تنگاتنگی با نیاز‌های کسب‌و‌کار
</span></font></font>(business objectives) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">دارد</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">هدف
معماری تشریح ساختار سامانه و پنهان کردن
جزئیات پیاده‌سازی آن برای تحقق سناریو‌های
</span></font></font>(scenario) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">مختلف
و موارد استفاده‌ی </span></font></font>(use-case)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">سامانه
است</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc864_2332448026"></a><font size="5"><span lang="fa-IR">۲.۸<font face="B Nazanin"><font size="5" style="font-size: 17pt"><b>الگوی</b></font></font>
</span></font>MVC<a class="sdfootnoteanc" name="sdfootnote6anc" href="#sdfootnote6sym"><sup>6</sup></a></span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
الگوی معماری که برای طراحی و ساخت واسط‌ها
</span></font></font>(interface) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">و
ساختار یک برنامه به کار می‌رود، برنامه
را به سه بخش </span></font></font>(Model-View-Controller) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">که
مجزا از هم و متصل به هم هستند تقسیم
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">می‌کند؛
تا</span></font></font> داده‌هایی را که به کاربر
ارائه می‌شوند، از داده‌هایی که از کاربر
دریافت می‌شوند تمیز دهد</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
الگو در طراحی برنامه‌های تحت وب و
واسط‌های گرافیکی پر استفاده است</span></font></font>.</p>
<h3 class="western"><a name="__RefHeading___Toc1385_1317651890"></a><font face="B Nazanin"><font size="4"><span lang="fa-IR">۲.۸.۱کنترلر
</span></font></font>(Controller)</span></font></font></span></font></font></h3>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
یک برنامه‌ی </span></font></font>MVC <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">بخش
زیادی از <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">وظیفه‌ها</span></font></font>
معمولاً بر عهده‌ی کنترلرهاست</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">کنترلر
وظیفه‌ی پشتیبانی از ورودی و خروجی و
تبدیل‌های آن‌ها را بر عهده دارد</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
بخش بین مدل‌ها و ویو‌ها ارتباط برقرار
می‌کند و خروجی اجرای کنترلر در ویو
بازتاب می‌شود</span></font></font>.</p>
<h3 class="western"><a name="__RefHeading___Toc870_2332448026"></a><font face="B Nazanin"><font size="4"><span lang="fa-IR">۲.۸.۲ویو
</span></font></font>(View)</span></font></font></span></font></font></h3>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
بخش به کاربر اجازه می‌دهد تا داده‌های
مدل را ببیند</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">ویو
می‌تواند از جداول، فرم‌ها، نمودار‌ها
و غیره استفاده کند</span></font></font>.</p>
<h3 class="western"><a name="__RefHeading___Toc872_2332448026"></a><font face="B Nazanin"><font size="4"><span lang="fa-IR">۲.۸.۳مدل
</span></font></font>(Model)</span></font></font></span></font></font></h3>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
بخش اطلاعاتی در مورد کاربرد برنامه
نگه‌داری می‌کند</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">وظیفه‌ی
این بخش مدل‌سازی اطلاعات به اشیاء شناخته
شده برای برنامه است</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
بخش همچنین منطق و قوانین برنامه را کنترل
می‌کند</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
بسیاری از معماری‌ها، مدل‌ها وظیفه‌ی
ارتباط با واسط </span></font></font>Object-relational
mapping (O/RM) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">و
یا دی‌بی‌ام‌اس و یا دیگر شیوه‌های
ذخیره و بازیابی داده‌ها را بر‌عهده
دارند</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc866_2332448026"></a><font size="5"><span lang="fa-IR">۲.۹هسته‌ی
نرم‌افزار </span></font>(Software Core)</span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
یک معماری نرم‌افزار، </span></font></font>«<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">هسته</span></font></font>»
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">به
آن بخشی از برنامه <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">گفته</span></font></font>
می‌شود که عملکرد‌ها و توابع پایه‌ی
برنامه در آن قرار دارد</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">دیگر
بخش‌های برنامه، برای انجام عمل‌های
پایه، توابع هسته را فراخوانی می‌کنند</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">هسته
معمولاً در اولین مراحل چرخه‌ی زندگی یک
برنامه اجرا می‌شود</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc874_2332448026"></a><font size="5"><span lang="fa-IR">۲.۱۰قابلیت
نرم‌افزاری </span></font>(Feature)<a class="sdfootnoteanc" name="sdfootnote7anc" href="#sdfootnote7sym"><sup>7</sup></a></span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
بخشی از تعریف‌های مربوط به مفهوم </span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">«</font></font><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">توسعه‌ی
قابلیت‌گرای نرم‌افزار</span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">»
(Feature-Oriented Software Development – FOSD) </font></font><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">به
واحدی از عمل‌کرد برنامه که نیازی را
مرتفع می‌کند، یک تصمیم طراحی را نمایندگی
می‌کند، و یک قابلیت بلقوه‌ی پیکربندی
را ارائه می‌کند، قابلیت نرم‌افزار گفته
می‌شود</span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">.</font></font></p>
<h1 class="western" style="page-break-before: always"><a name="__RefHeading___Toc11282_2132680262"></a>
<font face="B Nazanin"><font size="5"><span lang="fa-IR">۳فصل
سوم</span></font></font><br/>
<font face="B Nazanin"><font size="5" style="font-size: 19pt"><span lang="fa-IR">شیوه
کارکرد هر بخش</span></font></font></h1>
<h2 class="western" style="page-break-before: always"><a name="__RefHeading___Toc11214_3711682929"></a>
<font size="5"><span lang="fa-IR">۳.۱چرخه‌ی حیات برنامه
در یک درخواست</span></font></span></font></h2>
<p class="western" align="center"><img src="index_html_60eceb2d9b84f0c7.png" name="Image3" align="bottom" width="554" height="439" border="0"/>
</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
این درخواست نمونه مشاهده می‌شود که هر
بخش چه وظیفه‌ای را بر عهده دارد</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc737_2332448026"></a><font size="5"><span lang="fa-IR">۳.۲ساختار
پوشه‌بندی</span></font></span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">حداقل
فایل‌هایی که برای اجرای این پروژه مورد
نیاز هستند در ساختار درختی زیر نمایش
داده شده و همچنین در ادامه به شرح تفصیلی
آن‌ها خواهیم پرداخت</span></font></font>.</p>
<div id="Section1" dir="rtl"><pre dir="ltr" class="western">.
├── API
│   └── v1
│       ├── authController.php
│       └── postsController.php
├── Controller
│   ├── AuthenticationController.php
│   ├── HomeController.php
│   ├── MyController.CRUD.php
│   ├── MyController.FileManager.php
│   ├── MyController.People.php
│   ├── MyController.php
│   ├── PostController.php
│   └── RSSController.php
├── Core
│   ├── ApiApp.php
│   ├── ApiController.php
│   ├── App.php
│   ├── Auth.php
│   ├── Config.php
│   ├── Config.Sample.php
│   ├── Controller.php
│   ├── Exceptions.php
│   ├── Middleware.php
│   ├── Model.php
│   └── Route.php
├── dictionary.yaml
├── favicon.png
├── gui
│   ├── js
│   │   ├── Post.js
│   │   └── Posts.js
│   └── view
│       ├── Post.htm
│       └── Posts.htm
├── Helper
│   └── Welcome.php
├── index.php
├── Libs
│   ├── APR1.php
│   ├── Arrays.php
│   ├── Cryptography.php
│   ├── Email.php
│   ├── Exception.php
│   ├── filemanager
│   │   ├── filemanager.php
│   │   ├── LICENSE
│   │   ├── phpfm.png
│   │   └── README.md
│   ├── File.php
│   ├── jdf.php
│   ├── JSON.php
│   ├── Language.php
│   ├── Links.php
│   ├── ORM.php
│   ├── Parsedown.php
│   ├── Random.php
│   ├── Strings.php
│   ├── tiny-html-minifier.php
│   ├── Translate.php
│   └── TSQL.php
├── LICENCE
├── Model
│   ├── Authentication.php
│   ├── Comment.php
│   ├── File.php
│   ├── Person.php
│   ├── Post.php
│   ├── Statistics.php
│   ├── Todo.php
│   └── Visit.php
├── package.json
├── README.md
├── robots.txt
├── static
│   ├── css
│   │   ├── boostrap._variables.scss
│   │   ├── bootstrap.min.css
│   │   ├── ...
│   │   └── view.css
│   ├── errors
│   │   ├── HTTP400.html
│   │   ├── ...
│   │   ├── HTTP533.html
│   │   └── README.md
│   ├── fonts
│   │   ├── Sahel-Bold.ttf
│   │   ├── ...
│   │   └── Sahel.ttf
│   ├── img
│   │   ├── ...
│   │   └── abstract-background.jpg
│   ├── js
│   │   ├── bootstrap.js
│   │   ├── ...
│   │   └── view.js
│   ├── Logo.png
│   └── textyy
│       ├── core.css
│       ├── core.js
│       └── icons
├── TODO.md
└── View
    ├── Authentication
    │   └── Login.php
    ├── Home
    │   ├── Feed.php
    │   ├── Index.php
    │   ├── _Layout.php
    │   └── View.php
    ├── _Layout.php
    └── My
        ├── CRUD.php
        ├── Index.php
        ├── Interpreter.php
        ├── _Layout.php
        ├── People.php
        └── Person.php</pre>
</div>
<h2 class="western"><a name="__RefHeading___Toc1387_1317651890"></a><font size="5"><span lang="fa-IR">۳.۳چرخه‌ی
زندگی </span></font>(Life Cycle)</span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">اجرای
هر برنامه‌ی کامپیوتری، توسط یک ماشه
</span></font></font>(Trigger) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">انجام
می‌شود و ممکن است به پایان رسیده، یا در
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">حلقه‌ای</span></font></font>
قرار بگیرد </span></font></font>(<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">مانند
برنامه‌های مربوط به سخت‌افزار و یا
سیستم‌عامل‌ها</span></font></font>)<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">،
و یا دچار قفل مرگ </span></font></font>(Dead lock) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">شود</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">برنامه‌های
تحت وب، معمولاً با درخواست کاربر </span></font></font>(Client
Request) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">آغاز
به کار می‌کنند و نهایتاً با ارائه‌ی
پاسخ </span></font></font>(Response) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">به
پایان می‌رسند</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">پس
می‌توان مراحلی که برنامه از درخواست تا
پاسخ طی می‌کند را چرخه‌ی حیات آن دانست</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc1146_3955012562"></a><font size="5"><span lang="fa-IR">۳.۴فایل
پیکربندی </span></font><i>.</i><i>h</i><i>taccess</span></font></i></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
فایل توسط کارساز‌های وب مختلف نظیر
</span></font></font>Apache <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">و
</span></font></font>IIS <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">پشتیبانی
می‌شود</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">وظیفه‌ی
این فایل، پیکر‌بندی شیوه‌ی رفتار کارساز
وب با اسکریپت‌های مرتبط است</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">با
استفاده از این فایل می‌توان تعیین کرد
که چه قابلیت‌هایی که کارساز وب فعال و
چه قابلیت‌هایی غیر فعال باشند</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">نکته</span></font></font>:
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
چهارچوب نرم‌افزاری این فایل وظیفه‌ی
هدایت درخواست‌ها به فایل </span></font></font>index.php
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">را
برعهده دارد</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc1148_3955012562"></a><font size="5"><span lang="fa-IR">۳.۵فایل
پیکر بندی </span></font><i>Config.php</span></font></i></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
فایل که بنا است توسط توسعه‌دهندگان در
مرحله‌ی نصب چهارچوب ویرایش شود، وظیفه‌ی
تعریف و نگه‌داری متغیر‌هایی را دارد
که برای شخصی‌سازی </span></font></font>(Customization)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">مورد
نیاز هستند</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
متغیر‌ها شامل اطلاعات ارتباط با
پایگاه‌داده، ارتباط با سرور ایمیل، و
آیا برنامه می‌تواند آمار درخواست‌های
برنامه را ذخیره‌سازی کند یا خیر</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc1150_3955012562"></a><font size="5"><span lang="fa-IR">۳.۶فایل
آغازین برنامه </span></font><i>index.php</span></font></i></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">تمامی
درخواست‌ها توسط فایل </span></font></font><i>.htaccess</i>
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">به
فایل </span></font></font><i>index.php</i> <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">منتقل
می‌شوند</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
فایل سرآغاز چرخه‌ی زندگی برنامه است</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">وظیفه‌ی
این اسکریپت کنترل کردن نوع و مبدأ
درخواست‌هایی است که به برنامه ارسال
می‌شود</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">بدیهی
است که منظورمان از درخواست، درخواست‌های
استاندارد اچ‌تی‌تی‌پی </span></font></font>(HTTP)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">هستند</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">سپس
این فایل چگونگی نمایش خطاهای برنامه را
مدیریت می‌کند</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">کتاب‌خانه‌هایی
را که برای اجرای توابع اصلی برنامه مورد
نیاز است، فراخوانی می‌کند</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">سپس
این برنامه نوع درخواست را از روی آدرس
آن تشخیص می‌دهد و تصمیم می‌گیرد که
کتاب‌خانه‌های مربوط به چه نوع کنترلر
را اجرا کند</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc739_2332448026"></a><font size="5"><span lang="fa-IR">۳.۷هسته
</span></font>(Core)</span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">هسته‌ی
این برنامه در پوشه‌ی </span></font></font>Core <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">قرار
گرفته است</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">همانطور
که در فایل </span></font></font><i>index.php</i> <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">مشاهده
می‌شود، فایل‌های مختلفی از این پوشه
در مرحله‌ی آغازین، به صورت آماده‌به‌کار
</span></font></font>(included) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">قرار
می‌گیرند</span></font></font>.</p>
<h3 class="western"><a name="__RefHeading___Toc10874_3878499706"></a><font face="B Nazanin"><font size="4"><span lang="fa-IR">۳.۷.۱هسته‌ی
مسیریاب </span></font></font>(<i>Route.php</i>)</span></font></font></span></font></font></h3>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
این فایل توابعی وجود دارد که پس از پالایش
</span></font></font>(Parse) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">آدرس،
مسیر کنترلری را بر می‌گرداند که مسول
اجرای آن درخواست کاربر است</span></font></font>.</p>
<h3 class="western"><a name="__RefHeading___Toc10876_3878499706"></a><font face="B Nazanin"><font size="4"><span lang="fa-IR">۳.۷.۲هسته‌ی
میان‌افزار </span></font></font>(<i>Middleware.php</i>)</span></font></font></span></font></font></h3>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
فایل توابعی را در بر می‌گیرد که وظیفه‌ی
فراخوانی‌های میان‌افزاری مانند اجرای
ساختن یک نمونه از مدل درخواستی کنترلر
را برعهده دارد</span></font></font>.</p>
<h3 class="western"><a name="__RefHeading___Toc10878_3878499706"></a><font face="B Nazanin"><font size="4"><span lang="fa-IR">۳.۷.۳هسته‌ی
خطا </span></font></font>(<i>Exceptions.php</i>)</span></font></font></span></font></font></h3>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
اسکریپت وظیفه‌ی معرفی دسته‌بندی‌های
خطا در کد برنامه را بر عهده دارد</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">از
آن‌جا که مدیریت کردن شیوه‌ی خطا در این
برنامه به صورت سراسری انجام می‌شود،
لازم است تا خطا‌ها دارای طبقه‌بندی
باشند</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
این فایل کلاس‌هایی تعریف شده‌اند که
از کلاس </span></font></font><i>Exception</i> <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">مربوط
</span></font></font>به هسته‌ی </span></font></font>PHP
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">ارث‌بری
می‌کند</span></font></font>.</p>
<h3 class="western"><a name="__RefHeading___Toc10880_3878499706"></a><font face="B Nazanin"><font size="4"><span lang="fa-IR">۳.۷.۴هسته‌ی
احراز هویت </span></font></font>(<i>Auth.php</i>)</span></font></font></span></font></font></h3>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
فایل وظیفه‌ی انجام احراز هویت اساسی
برنامه را بر عهده دارد</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
حالت پیش‌فرض این چهارچوب، احراز هویت
با استفاده از فایل </span></font></font><i>.</i><font face="B Nazanin"><font size="2" style="font-size: 10pt"><i>htpasswd</i></font></font>
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">انجام
می‌شود</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">فلسفه‌ی
احراز هویت با فایل این است که اگر بنا
بود تا چهارچوب بدون وابستگی به دی‌بی‌ام‌اس
مورد استفاده قرار گیرد، خللی در اجرای
برنامه نباشد</span></font></font>.</p>
<h4 class="western"><a name="__RefHeading___Toc10882_3878499706"></a><font face="B Nazanin"><font size="4" style="font-size: 13pt"><span lang="fa-IR">فایل
</span></font></font><i>.htpasswd</i></h4>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
این فایل در هر خط یک کاربر تعریف شده است</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">اولین
کاراکتر دونقطه </span></font></font>(<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">کالن
– </span></font></font>Colon) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">جدا
کننده‌ی </span></font></font>(seperator) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">نام‌کاربری
از کلمه‌ی عبور است</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">کلمه‌ی
عبور با استفاده از الگوریتم </span></font></font>APR
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">کد‌گذاری
شده است</span></font></font>.</p>
<div id="Section8" dir="rtl"><pre dir="ltr" class="western">tayyebi:$apr1$/8/d03Mm$0Y26FBpPRoR1rN9C8nlTh.</pre>
</div>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
فایل را می‌توان با استفاده دستورات
پیش‌فرض لینوکس ایجاد کرد</span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">.
</font></font><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">پارامتر
اول بعد از سوییچ </span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt"><i>c</i>
</font></font><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">آدرس
فایل است، و دومین پارامتر نام‌کاربری
است</span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">.</font></font></p>
<div id="Section9" dir="rtl"><pre dir="ltr" class="western">htpasswd -c /var/www/html/Sariab-V2/.htpasswd tayyebi</pre>
</div>
<h4 class="western"><a name="__RefHeading___Toc10884_3878499706"></a><font face="B Nazanin"><font size="4" style="font-size: 13pt"><span lang="fa-IR">تابع
احراز هویت</span></font></font></h4>
<div id="Section10" dir="rtl"><pre dir="ltr" class="western"><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"><span style="background: #ffffff">$this</span></span></font></font></font><font color="#000000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"><span style="background: #ffffff">-&gt;</span></span></font></font></font><font color="#795e26"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"><span style="background: #ffffff">CheckAuth</span></span></font></font></font><font color="#000000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"><span style="background: #ffffff">(); </span></span></font></font></font><font color="#008000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"><span style="background: #ffffff">// Check login</span></span></font></font></font></pre>
</div>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
تابع در صورت عدم اجرای موفق احراز هویت،
خطای مربوطه را برگردانده و از اجرای
برنامه جلوگیری می‌کند</span></font></font>.</p>
<h3 class="western"><a name="__RefHeading___Toc10886_3878499706"></a><font face="B Nazanin"><font size="4"><span lang="fa-IR">۳.۷.۵هسته‌ی
کاربرد </span></font></font>(<font face="B Nazanin"><font size="3" style="font-size: 12pt"><i><b>App</b></i></font></font><i>.php</i>)</span></font></font></span></font></font></h3>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
فایل وظیفه‌ی اجرای یک نمونه از کنترلر
مربوط به درخواست کاربر را برعهده دارد</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">همچنین
این اسکریپت وظیفه‌ی مدیریت </span></font></font>(Handle)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">خطای
پیش آمده در اجرای کنترلر را برعهده دارد</span></font></font>.</p>
<h3 class="western"><a name="__RefHeading___Toc10888_3878499706"></a><font face="B Nazanin"><font size="4"><span lang="fa-IR">۳.۷.۶هسته‌ی
کاربرد واسط برنامه‌نویسی کاربردی
</span></font></font>(<i>ApiApp.php</i>)</span></font></font></span></font></font></h3>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
هسته مشابه هسته‌ی کاربرد پیشین است که
با توجه به اینکه واسط‌های برنامه‌نویسی
احتیاج به ویو ندارند، آن را اجرا نمی‌کند</span></font></font>.</p>
<h3 class="western"><a name="__RefHeading___Toc1389_1317651890"></a><font face="B Nazanin"><font size="4"><span lang="fa-IR">۳.۷.۷هسته‌ی
مدل </span></font></font>(Model.php)</span></font></font></span></font></font></h3>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
هسته در تابع سازنده‌ی </span></font></font>(Constructor
function) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">خود،
ارتباط با پایگاه‌داده را انجام می‌دهد</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">و
سپس با استفاده از دو تابع </span></font></font>DoSelect
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">و
</span></font></font>DoQuery <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">انجام
گفت‌و‌گو‌هایی را با پایگاه‌داده انجام
می‌دهد که به ترتیب، خروجی آن‌ها به صورت
رکورد است و خروجی آن‌ها به صورت رکورد
نیست</span></font></font>.</p>
<h3 class="western"><a name="__RefHeading___Toc1391_1317651890"></a><font face="B Nazanin"><font size="4"><span lang="fa-IR">۳.۷.۸هسته‌ی
کنترلر </span></font></font>(Controller.php)</span></font></font></span></font></font></h3>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">کلاس
والد کنترل‌های موجود در پوشه‌ی </span></font></font>controller
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
فایل هسته است</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
فایل وظیفه‌ی مدیریت کردن هلپر‌ها،
ویو‌ها، و قالب‌ها را بر عهده دارد</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
کلاس با استفاده از تابع پیش‌فرض </span></font></font><i>_call</i>
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">قابلیت
فراخوانی ساده‌تر هلپر‌ها را فراهم
می‌کند</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
تابع </span></font></font><i>_construct</i> <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">وظیفه‌ی
آمارگیری را انجام می‌دهد</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">تابع
</span></font></font>GetPayload <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">ابتدا
و انتهای فایل‌های قالب را جدا می‌کند
تا بتوان آن‌ها را <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">با
استفاده از</span></font></font> تابع </span></font></font>Evaluate
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">بهم
متصل کرد</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">وظیفه‌ی
ادغام فایل‌های قالب و ویو‌ها را تابع
</span></font></font>Render <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">انجام
می‌دهد</span></font></font>.</p>
<h3 class="western"><a name="__RefHeading___Toc1393_1317651890"></a><font face="B Nazanin"><font size="4"><span lang="fa-IR">۳.۷.۹هسته‌ی
کنترلر </span></font></font>API (ApiController.php)</span></font></font></span></font></font></h3>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
فایل مشابه فایل </span></font></font><i>Controller.php</i>
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">است</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">با
این تفاوت که توابع مربوط به پردازش ویو‌ها
و قالب‌ها وجود ندارد و به ازای آن توابعی
وجود دارد که تبدیل فرمت خروجی </span></font></font>JSON
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">را
انجام می‌دهد</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc1152_3955012562"></a><font size="5"><span lang="fa-IR">۳.۸پوشه‌ی
</span></font>view</span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
این پوشه پوشه‌های دیگری هم‌نام با
کنترلر‌ها قرار می‌گیرد که دربرگیرنده‌ی
ویو‌های هم‌نام با اکشن‌ها هستند</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">اکشن‌ها
توابعی در کنترل‌ها هستند که وظیفه‌ای
خاص را بر عهده دارد</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">برنامه‌نویس
این فایل‌ها را ایجاد می‌کند</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc1154_3955012562"></a><font size="5"><span lang="fa-IR">۳.۹پوشه‌ی
</span></font>controller</span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
این پوشه کنترلر‌هایی که توسط برنامه‌نویس
آماده شده‌اند قرار می‌گیرد</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc1156_3955012562"></a><font size="5"><span lang="fa-IR">۳.۱۰پوشه‌ی
</span></font>API</span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
این پوشه پوشه‌هایی قرار می‌گیرد که
نسخه‌ی </span></font></font>API <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">را
تعریف می‌کند و هرکدام از آن پوشه‌ها
شامل کنترلر‌های </span></font></font>API <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">می‌شود</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc1158_3955012562"></a><font size="5"><span lang="fa-IR">۳.۱۱پوشه‌ی
</span></font>gui</span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
پوشه فایل‌های سمت کاربری را نگه می‌دارد
که با </span></font></font>API<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">ها
ارتباط می‌گیرد و واسط تحت وبی را می‌سازد
که از نظر فنی همانند برنامه‌های تلفن
همراه عمل می‌کند</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc10890_3878499706"></a><font size="5"><span lang="fa-IR">۳.۱۲هلپر‌ها
</span></font>(Helper)</span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">هلپر‌ها
کدهایی هستند که اجرای آن‌ها باید در
لایه‌ای بین ویو و کنترلر صورت بگیرد</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">هلپر‌ها
معمولاً با مدل‌ها در ارتباط نیستند</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">کاربرد
هلپر‌ها می‌تواند در ایجاد بخش‌هایی
پر‌تکرار بین ویو‌های مختلف است</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">برای
مقال منو‌هایی که در بخش‌های مختلف یک
وب‌سایت تکرار می‌شوند را می‌توان به
صورت هلپر تعریف کرد</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc10892_3878499706"></a><font size="5"><span lang="fa-IR">۳.۱۳قالب‌ها
</span></font>(Layout)</span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">ویو‌هایی
که در دسته‌بندی‌های مشترک قرار می‌گیرد،
معمولاً از نظر بصری مشابهت‌هایی را
دارند</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">برای
این منظور قالب‌ها پیاده‌سازی می‌شوند
تا از نوشتن پر‌تکرار کد‌ها جلوگیری
شود</span></font></font>.</p>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
چهارچوب نرم‌افزاری حاضر، بخش متغیر
قالب‌ها، با استفاده از کد زیر مشخص
می‌شود</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">به
بخش بالاتر از این خط </span></font></font>Preload <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">و
به خط پایین‌تر </span></font></font>Payload <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">می‌گوییم</span></font></font>.</p>
<div id="Section16" dir="rtl"><pre dir="ltr" class="western">&lt;!--VIEW_CONTENT--&gt;</pre>
</div>
<p class="western"><br/>
<br/>

</p>
<h1 class="western" style="page-break-before: always"><a name="__RefHeading___Toc11284_2132680262"></a>
<font face="B Nazanin"><font size="5"><span lang="fa-IR">۴فصل
چهارم</span></font></font><br/>
<font face="B Nazanin"><font size="5" style="font-size: 19pt"><span lang="fa-IR">نصب،
توسعه و راه‌اندازی</span></font></font></h1>
<h2 class="western" style="page-break-before: always"><a name="__RefHeading___Toc775_2332448026"></a>
<font size="5"><span lang="fa-IR">۴.۱نصب برنامه</span></font></span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">برای
نصب این برنامه به بستر کارساز وب و
پایگاه‌داده نیاز است</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
بستر می‌تواند </span></font></font>IIS<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">،
</span></font></font>Apache<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">،
</span></font></font>Nginx <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">و
یا سایر برنامه‌های مشابه باشد</span></font></font>.</p>
<h2 class="western"><a name="__RefHeading___Toc777_2332448026"></a><font size="5"><span lang="fa-IR">۴.۲پیکربندی
چهارچوب نرم‌افزاری</span></font></span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">برای
پیکربندی این چهارچوب باید فایل </span></font></font><i>Config.php</i>
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">را
ویرایش کر</span></font></font><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">د</span></font></font></span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">.</font></font></p>
<h2 class="western"><a name="__RefHeading___Toc779_2332448026"></a><font size="5"><span lang="fa-IR">۴.۳پیاده‌سازی
یک مدل </span></font>(Model)</span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">قالب
استاندارد را می‌توان از مثال زیر دریافت
کرد</span></font></font>:</p>
<div id="Section17" dir="rtl"><pre dir="ltr" class="western"><font color="#0000ff">class</font> <font color="#267f99">File</font> <font color="#0000ff">extends</font> <font color="#267f99">Model</font> {

<font color="#0000ff">function</font> <font color="#795e26">GetFiles</font>() {
<font color="#001080">$Query</font> = <font color="#a31515">'</font><font color="#0000ff">SELECT</font><font color="#a31515"> `Id`, `FileName`, `Submit` </font><font color="#0000ff">FROM</font><font color="#a31515"> `Files` </font><font color="#0000ff">ORDER BY</font><font color="#a31515"> `Id` </font><font color="#0000ff">DESC</font><font color="#a31515">'</font>;
<font color="#001080">$Result</font> = <font color="#0000ff">$this</font>-&gt;<font color="#795e26">DoSelect</font>(<font color="#001080">$Query</font>);
<font color="#af00db">return</font> <font color="#001080">$Result</font>;
}

<font color="#0000ff">function</font> <font color="#795e26">InsertNewFile</font>(<font color="#001080">$Values</font>) {
<font color="#001080">$Query</font> = <font color="#a31515">'</font><font color="#0000ff">INSERT</font><font color="#a31515"> </font><font color="#0000ff">INTO</font><font color="#a31515"> `Files` (`FileName`, `Submit`) </font><font color="#0000ff">VALUES</font><font color="#a31515"> (:</font><font color="#0000ff">FileName</font><font color="#a31515">, </font><font color="#0000ff">NOW</font><font color="#a31515">())'</font>;
<font color="#001080">$Result</font> = <font color="#0000ff">$this</font>-&gt;<font color="#795e26">DoQuery</font>(<font color="#001080">$Query</font>, <font color="#001080">$Values</font>);
<font color="#af00db">return</font> <font color="#001080">$Result</font>;
}
<font color="#0000ff">function</font> <font color="#795e26">GetFile</font>(<font color="#001080">$Values</font>) {
<font color="#001080">$Query</font> = <font color="#a31515">'</font><font color="#0000ff">SELECT</font><font color="#a31515"> `Id`, `FileName`, `Submit` </font><font color="#0000ff">FROM</font><font color="#a31515"> `Files` </font><font color="#0000ff">WHERE</font><font color="#a31515"> `Id`</font>=<font color="#a31515">:Id'</font>;
<font color="#001080">$Result</font> = <font color="#0000ff">$this</font>-&gt;<font color="#795e26">DoSelect</font>(<font color="#001080">$Query</font>, <font color="#001080">$Values</font>);
<font color="#af00db">return</font> <font color="#001080">$Result</font>;
}

<font color="#0000ff">function</font> <font color="#795e26">DeleteFile</font>(<font color="#001080">$Values</font>) {
<font color="#001080">$Query</font> = <font color="#a31515">'</font><font color="#0000ff">DELETE</font><font color="#a31515"> </font><font color="#0000ff">FROM</font><font color="#a31515"> `Files` </font><font color="#0000ff">WHERE</font><font color="#a31515"> `Id`</font>=<font color="#a31515">:Id'</font>;
<font color="#001080">$Result</font> = <font color="#0000ff">$this</font>-&gt;<font color="#795e26">DoQuery</font>(<font color="#001080">$Query</font>, <font color="#001080">$Values</font>);
<font color="#af00db">return</font> <font color="#001080">$Result</font>;
}

}</pre>
</div>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">اما
می‌تواند برای پیاده‌سازی سریع اعمال
</span></font></font></span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">CRUD
</font></font><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">از
</span></font></font><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">مثال</span></font></font><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span style="font-weight: normal">
زیر استفاده کرد</span></font></font></span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">:</font></font></p>
<div id="Section18" dir="rtl"><pre dir="ltr" class="western"><font color="#0000ff">class</font> <font color="#267f99">Todo</font> <font color="#0000ff">extends</font> <font color="#267f99">Model</font> {

// === Based on a template ===
<font color="#0000ff">function</font> <font color="#795e26">DescribeTable</font>() {
<font color="#af00db">return</font> <font color="#0000ff">$this</font>-&gt;<font color="#795e26">DoSelect</font>(<font color="#a31515">&quot;DESCRIBE `Todos`&quot;</font>);
}
<font color="#0000ff">function</font> <font color="#795e26">GetAdminPanelItems</font>(<font color="#001080">$Values</font> = <font color="#0000ff">null</font>) {

<font color="#001080">$Query</font> = <font color="#a31515">'</font><font color="#0000ff">SELECT</font>
<font color="#795e26">CONCAT</font><font color="#a31515">(</font><font color="#ee0000">\'</font>&lt;<font color="#a31515">a class</font>=<font color="#a31515">&quot;btn btn-sm btn-default&quot; href</font>=<font color="#a31515">&quot;'</font> . _Root . <font color="#a31515">'My/CRUD/Todo/</font><font color="#ee0000">\'</font><font color="#a31515">, id , </font><font color="#ee0000">\'</font><font color="#a31515">&quot;&gt;</font><font color="#ee0000">\'</font><font color="#a31515">, </font><font color="#ee0000">\'</font><font color="#a31515">Edit</font><font color="#ee0000">\'</font><font color="#a31515">, </font><font color="#ee0000">\'</font><font color="#a31515">&lt;/a&gt;</font><font color="#ee0000">\'</font><font color="#a31515">) as Edit,</font>
Id
,`Title`
,`Submit`
FROM `Todos`
<font color="#a31515">ORDER BY `Id` ASC'</font>;

<font color="#af00db">return</font> <font color="#0000ff">$this</font>-&gt;<font color="#795e26">DoSelect</font>(<font color="#001080">$Query</font>);
}
<font color="#0000ff">function</font> <font color="#795e26">GetItemByIdentifier</font>(<font color="#001080">$Values</font>) {
<font color="#001080">$Query</font> = <font color="#a31515">&quot;</font><font color="#0000ff">SELECT</font><font color="#a31515"> </font>*
<font color="#0000ff">FROM</font><font color="#a31515"> `Todos`</font>
<font color="#0000ff">WHERE</font><font color="#a31515"> `Id` </font>=<font color="#a31515"> :Id</font>
<font color="#0000ff">LIMIT</font><font color="#a31515"> </font><font color="#098658">1</font><font color="#a31515">&quot;</font>;

<font color="#af00db">return</font> <font color="#0000ff">$this</font>-&gt;<font color="#795e26">DoSelect</font>(<font color="#001080">$Query</font>, <font color="#001080">$Values</font>);
}
}</pre>
</div>
<h2 class="western"><a name="__RefHeading___Toc781_2332448026"></a><font size="5"><span lang="fa-IR">۴.۴پیاده‌سازی
یک ویو </span></font>(View)</span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">می‌توان
از متغیر </span></font></font>Data <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">که
در کنترلر به صورت پیش‌فرض تعریف می‌شود
و توصیه می‌کنیم از این قاعده پیروی کنید،
برای پیاده‌سازی بخش‌های مختلف ویو
استفاده کرد</span></font></font>. <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">برای
مثال</span></font></font>:</p>
<div id="Section19" dir="rtl"><pre dir="ltr" class="western"><font color="#800000">&lt;div</font> <font color="#ff0000">class</font>=<font color="#0000ff">&quot;card&quot;</font><font color="#800000">&gt;</font>
<font color="#800000">&lt;div</font> <font color="#ff0000">class</font>=<font color="#0000ff">&quot;card-header&quot;</font><font color="#800000">&gt;</font>
<span lang="fa-IR">تغییر کلمه‌ی عبور</span>
&lt;/div&gt;
<font color="#800000">&lt;div</font> <font color="#ff0000">class</font>=<font color="#0000ff">&quot;card-body&quot;</font><font color="#800000">&gt;</font>
<font color="#800000">&lt;h5</font> <font color="#ff0000">class</font>=<font color="#0000ff">&quot;card-title&quot;</font><font color="#800000">&gt;</font>/<font color="#800000">&lt;?php</font> <font color="#795e26">echo</font> <font color="#001080">$Data</font>[<font color="#a31515">'Model'</font>][<font color="#a31515">'Username'</font>] <font color="#800000">?&gt;</font>/<font color="#800000">&lt;/h5&gt;</font>
<font color="#800000">&lt;form</font> <font color="#ff0000">class</font>=<font color="#0000ff">&quot;form&quot;</font> <font color="#ff0000">method</font>=<font color="#0000ff">&quot;post&quot;</font> <font color="#ff0000">enctype</font>=<font color="#0000ff">&quot;multipart/form-data&quot;</font><font color="#800000">&gt;</font>
<font color="#800000">&lt;div</font> <font color="#ff0000">class</font>=<font color="#0000ff">&quot;form-group&quot;</font><font color="#800000">&gt;</font>
<font color="#800000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&lt;label</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> </span></font></font><font color="#ff0000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">for</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">=</span></font></font><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;FormerPassInput&quot;</span></font></font></font><font color="#800000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&gt;</span></font></font></font><span lang="fa-IR"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">نام کاربری</span></font></font></span><font color="#800000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&lt;/label&gt;</span></font></font></font>
<font color="#800000">&lt;input</font> <font color="#ff0000">type</font>=<font color="#0000ff">&quot;text&quot;</font> <font color="#ff0000">name</font>=<font color="#0000ff">&quot;UsernameInput&quot;</font> <font color="#ff0000">id</font>=<font color="#0000ff">&quot;UsernameInput&quot;</font>
readonly
<font color="#ff0000">class</font>=<font color="#0000ff">&quot;form-control&quot;</font> <font color="#ff0000">value</font>=<font color="#0000ff">&quot;</font><font color="#800000">&lt;?php</font> <font color="#795e26">echo</font> <font color="#001080">$Data</font>[<font color="#a31515">'Model'</font>][<font color="#a31515">'Username'</font>] <font color="#800000">?&gt;</font><font color="#0000ff">&quot;</font> <font color="#800000">/&gt;</font>
&lt;/div&gt;
<font color="#800000">&lt;div</font> <font color="#ff0000">class</font>=<font color="#0000ff">&quot;form-group&quot;</font><font color="#800000">&gt;</font>
<font color="#800000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&lt;label</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> </span></font></font><font color="#ff0000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">for</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">=</span></font></font><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;FormerPassInput&quot;</span></font></font></font><font color="#800000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&gt;</span></font></font></font><span lang="fa-IR"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">کلمه‌ی عبور پیشین</span></font></font></span><font color="#800000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&lt;/label&gt;</span></font></font></font>
<font color="#800000">&lt;input</font> <font color="#ff0000">type</font>=<font color="#0000ff">&quot;password&quot;</font> <font color="#ff0000">name</font>=<font color="#0000ff">&quot;FormerPassInput&quot;</font> <font color="#ff0000">id</font>=<font color="#0000ff">&quot;FormerPassInput&quot;</font>
<font color="#ff0000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">class</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">=</span></font></font><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;form-control&quot;</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> </span></font></font><font color="#ff0000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">placeholder</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">=</span></font></font><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;</span></font></font></font><span lang="fa-IR"><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">کلمه‌ی عبور پیشین</span></font></font></font></span><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> </span></font></font><font color="#800000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">/&gt;</span></font></font></font>
&lt;/div&gt;
<font color="#800000">&lt;div</font> <font color="#ff0000">class</font>=<font color="#0000ff">&quot;form-group&quot;</font><font color="#800000">&gt;</font>
<font color="#800000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&lt;label</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> </span></font></font><font color="#ff0000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">for</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">=</span></font></font><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;NewPassInput&quot;</span></font></font></font><font color="#800000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&gt;</span></font></font></font><span lang="fa-IR"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">کلمه‌ی عبور پسین</span></font></font></span><font color="#800000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&lt;/label&gt;</span></font></font></font>
<font color="#800000">&lt;input</font> <font color="#ff0000">type</font>=<font color="#0000ff">&quot;password&quot;</font> <font color="#ff0000">name</font>=<font color="#0000ff">&quot;NewPassInput&quot;</font> <font color="#ff0000">id</font>=<font color="#0000ff">&quot;NewPassInput&quot;</font>
required
<font color="#ff0000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">class</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">=</span></font></font><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;form-control&quot;</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> </span></font></font><font color="#ff0000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">placeholder</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">=</span></font></font><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;</span></font></font></font><span lang="fa-IR"><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">کلمه‌ی عبور جدید خود را وارد کنید</span></font></font></font></span><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> </span></font></font><font color="#800000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">/&gt;</span></font></font></font>
&lt;/div&gt;
<font color="#800000">&lt;div</font> <font color="#ff0000">class</font>=<font color="#0000ff">&quot;form-group&quot;</font><font color="#800000">&gt;</font>
<font color="#800000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&lt;label</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> </span></font></font><font color="#ff0000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">for</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">=</span></font></font><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;ConfirmPassInput&quot;</span></font></font></font><font color="#800000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&gt;</span></font></font></font><span lang="fa-IR"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">تکرار مکررات</span></font></font></span><font color="#800000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&lt;/label&gt;</span></font></font></font>
<font color="#800000">&lt;input</font> <font color="#ff0000">type</font>=<font color="#0000ff">&quot;password&quot;</font> <font color="#ff0000">name</font>=<font color="#0000ff">&quot;ConfirmPassInput&quot;</font> <font color="#ff0000">id</font>=<font color="#0000ff">&quot;ConfirmPassInput&quot;</font>
<font color="#ff0000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">class</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">=</span></font></font><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;form-control&quot;</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> </span></font></font><font color="#ff0000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">placeholder</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">=</span></font></font><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;</span></font></font></font><span lang="fa-IR"><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">تکرار کلمه‌ی عبور جدید خود را وارد کنید</span></font></font></font></span><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> </span></font></font><font color="#800000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">/&gt;</span></font></font></font>
&lt;/div&gt;
<font color="#800000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&lt;button</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> </span></font></font><font color="#ff0000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">type</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">=</span></font></font><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;submit&quot;</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> </span></font></font><font color="#ff0000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">class</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">=</span></font></font><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;btn btn-primary&quot;</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> </span></font></font><font color="#ff0000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">name</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">=</span></font></font><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;ChangePassword&quot;</span></font></font></font><font color="#800000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&gt;</span></font></font></font><span lang="fa-IR"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">تغییر گذرواژه</span></font></font></span><font color="#800000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&lt;/button&gt;</span></font></font></font>
&lt;/form&gt;
&lt;/div&gt;
&lt;/div&gt;</pre>
</div>
<h2 class="western"><a name="__RefHeading___Toc783_2332448026"></a><font size="5"><span lang="fa-IR">۴.۵پیاده‌سازی
یک کنترلر </span></font>(Controller)</span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">می‌توان
از مثال زیر برای پیاده‌سازی یک کنترلر
استفاده کرد</span></font></font>:</p>
<div id="Section21" dir="rtl"><pre dir="ltr" class="western"><font color="#0000ff"><font face="Liberation Mono, monospace"><font size="2" style="font-size: 10pt">class</font></font></font> <font color="#267f99">People</font> {

/**
* PeopleGET
*
* List the posts
* 
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">void</font>
*/
<font color="#0000ff">function</font> <font color="#795e26">PeopleGET</font>() {

<font color="#0000ff">$this</font>-&gt;<font color="#795e26">CheckLogin</font>(<font color="#a31515">'admin'</font>); <font color="#008000">// Check login</font>

// Ask database for data
<font color="#001080">$Model</font> = <font color="#0000ff">$this</font>-&gt;<font color="#795e26">CallModel</font>(<font color="#a31515">&quot;Person&quot;</font>);
<font color="#001080">$Rows</font> = <font color="#001080">$Model</font>-&gt;<font color="#795e26">GetAllPeople</font>();

// Package the response
<font color="#001080">$Data</font> = [
<font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">'Title'</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> =&gt; </span></font></font><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">'</span></font></font></font><span lang="fa-IR"><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">مدیریت کاربر‌ها</span></font></font></font></span><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">'</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">,</span></font></font>
<font color="#a31515">'Model'</font> =&gt; <font color="#001080">$Rows</font>
];
// Render the view
<font color="#0000ff">$this</font>-&gt;<font color="#795e26">Render</font>(<font color="#a31515">'People'</font>, <font color="#001080">$Data</font>);

}

/**
* PersonGET
*
* Get a Person details and managment stuff
* 
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">void</font>
*/
<font color="#0000ff">function</font> <font color="#795e26">PersonGET</font>(<font color="#001080">$Id</font> = <font color="#098658">0</font>) {

<font color="#0000ff">$this</font>-&gt;<font color="#795e26">CheckLogin</font>(); <font color="#008000">// Check login</font>

// Check if Id is passed to function
<font color="#af00db">if</font> (<font color="#001080">$Id</font> != <font color="#098658">0</font>)
{
<font color="#001080">$Model</font> = <font color="#0000ff">$this</font>-&gt;<font color="#795e26">CallModel</font>(<font color="#a31515">&quot;Person&quot;</font>);
<font color="#001080">$Rows</font> = <font color="#001080">$Model</font>-&gt;<font color="#795e26">GetPersonById</font>([
<font color="#a31515">'Id'</font> =&gt; <font color="#001080">$Id</font>,
]);

<font color="#af00db">if</font> (<font color="#795e26">count</font>(<font color="#001080">$Rows</font>) == <font color="#098658">0</font>)
<font color="#af00db">goto</font> the_notfound;

<font color="#001080">$Row</font> = <font color="#001080">$Rows</font>[<font color="#098658">0</font>];

<font color="#001080">$Data</font> = [
<font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">'Title'</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> =&gt; </span></font></font><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">'</span></font></font></font><span lang="fa-IR"><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">مدیریت کاربر</span></font></font></font></span><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">'</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">,</span></font></font>
<font color="#a31515">'Model'</font> =&gt; <font color="#001080">$Row</font>
];
<font color="#0000ff">$this</font>-&gt;<font color="#795e26">Render</font>(<font color="#a31515">'Person'</font>, <font color="#001080">$Data</font>);

}
// If it was insert
else
{
the_notfound: <font color="#008000">// A goto (evil) stuff // Just a programming fun.</font>
<font color="#af00db"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">throw</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> </span></font></font><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">new</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> </span></font></font><font color="#267f99"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">NotFoundException</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">(</span></font></font><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;</span></font></font></font><span lang="fa-IR"><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">شناسه‌ی کاربری مورد نظر پیدا نشد</span></font></font></font></span><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">);</span></font></font>
}
}

/**
* PersonPOST
*
* Update Person details
* 
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">void</font>
*/
<font color="#0000ff">function</font> <font color="#795e26">PersonPOST</font>(<font color="#001080">$Id</font> = <font color="#098658">0</font>) {
<font color="#0000ff">$this</font>-&gt;<font color="#795e26">CheckLogin</font>(); <font color="#008000">// Check login</font>

// Check if Id is passed to the function
<font color="#af00db">if</font> (<font color="#001080">$Id</font> != <font color="#098658">0</font>)
{
// Call the model
<font color="#001080">$Model</font> = <font color="#0000ff">$this</font>-&gt;<font color="#795e26">CallModel</font>(<font color="#a31515">&quot;Person&quot;</font>);

// Initialy set message to String.Empty
<font color="#001080">$Message</font> = <font color="#a31515">''</font>;

// Check if Person exist from parameters
<font color="#001080">$Rows</font> = <font color="#001080">$Model</font>-&gt;<font color="#795e26">GetPersonById</font>([
<font color="#a31515">'Id'</font> =&gt; <font color="#001080">$Id</font>
]);
<font color="#af00db">if</font> (<font color="#795e26">count</font>(<font color="#001080">$Rows</font>) &gt; <font color="#098658">0</font>)
{

// Check if new password and it's confirm match
<font color="#af00db">if</font> (<font color="#001080">$_POST</font>[<font color="#a31515">'NewPassInput'</font>] == <font color="#001080">$_POST</font>[<font color="#a31515">'ConfirmPassInput'</font>])
{

// Check former password
<font color="#001080">$Values</font> = [
<font color="#a31515">'Username'</font> =&gt; <font color="#001080">$Rows</font>[<font color="#098658">0</font>][<font color="#a31515">'Username'</font>],
<font color="#a31515">'Password'</font> =&gt; <font color="#001080">$_POST</font>[<font color="#a31515">'FormerPassInput'</font>]
];

// If former password was correct
<font color="#af00db">if</font> ((<font color="#0000ff">new</font> <font color="#267f99">Auth</font>(<font color="#0000ff">$this</font>))-&gt;<font color="#795e26">CheckLogin</font>(<font color="#001080">$Values</font>, <font color="#a31515">'todo:notadmin!'</font>))
{
// Update the password
<font color="#001080">$Response</font> = <font color="#001080">$Model</font>-&gt;<font color="#795e26">UpdatePassword</font>([
<font color="#a31515">'Id'</font> =&gt; <font color="#001080">$Id</font>,
<font color="#a31515">'Password'</font> =&gt; (<font color="#0000ff">new</font> <font color="#267f99">Cryptography</font>())-&gt;<font color="#795e26">Encrypt</font>(<font color="#001080">$_POST</font>[<font color="#a31515">'NewPassInput'</font>])
]);

// Check for database errors
<font color="#001080"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">$Message</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> = </span></font></font><font color="#001080"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">$Response</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> ? </span></font></font><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">'</span></font></font></font><span lang="fa-IR"><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">کلمه‌ی عبور کاربر به روز شد</span></font></font></font></span><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">'</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> : </span></font></font><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">'</span></font></font></font><span lang="fa-IR"><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">خطای پایگاه داده</span></font></font></font></span><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">'</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">;</span></font></font>
}
else
{
<font color="#001080"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">$Message</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> = </span></font></font><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">'</span></font></font></font><span lang="fa-IR"><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">کلمه‌ی عبور پیشین معتبر نیست</span></font></font></font></span><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">'</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">;</span></font></font>
}
}
else
{
<font color="#001080"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">$Message</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> = </span></font></font><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">'</span></font></font></font><span lang="fa-IR"><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">کلمه‌ی عبور جدید با تکرار آن هم‌خوانی ندارد</span></font></font></font></span><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">'</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">;</span></font></font>
}

// Get the current record
<font color="#001080">$Row</font> = <font color="#001080">$Rows</font>[<font color="#098658">0</font>];

// Return the view
<font color="#001080">$Data</font> = [
<font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">'Title'</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> =&gt; </span></font></font><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">'</span></font></font></font><span lang="fa-IR"><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">مدیریت کاربر</span></font></font></font></span><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">'</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">,</span></font></font>
<font color="#a31515">'Message'</font> =&gt; <font color="#001080">$Message</font>,
<font color="#a31515">'Model'</font> =&gt; <font color="#001080">$Row</font>
];
<font color="#0000ff">$this</font>-&gt;<font color="#795e26">Render</font>(<font color="#a31515">'Person'</font>, <font color="#001080">$Data</font>);

// Don't allow program to go to the next lines
<font color="#af00db">return</font>;
}
}

// If Person id did not exist in database or sent as paramter to this method
<font color="#af00db"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">throw</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> </span></font></font><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">new</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"> </span></font></font><font color="#267f99"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">NotFoundException</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">(</span></font></font><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;</span></font></font></font><span lang="fa-IR"><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">شناسه‌ی کاربری مورد نظر پیدا نشد</span></font></font></font></span><font color="#a31515"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">&quot;</span></font></font></font><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal">);</span></font></font>
}
}</pre>
</div>
<h2 class="western"><a name="__RefHeading___Toc10894_3878499706"></a><font size="5"><span lang="fa-IR">۴.۶پیاده‌سازی
یک کنترلر </span></font>(<font face="B Nazanin"><font size="3" style="font-size: 12pt"><b>API</b></font></font>
Controller)</span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">می‌توان
از مثال زیر برای پیاده‌سازی یک کنترلر
</span></font></font>(API) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">استفاده
کرد</span></font></font>:</p>
<div id="Section20" dir="rtl"><pre dir="ltr" class="western">&lt;?php

<font color="#0000ff">class</font> <font color="#267f99">postsController</font> <font color="#0000ff">extends</font> <font color="#267f99">ApiController</font> {
<font color="#0000ff">function</font> <font color="#795e26">GET</font>(<font color="#001080">$IdOrFrom</font> = -<font color="#098658">1</font>, <font color="#001080">$To</font> = -<font color="#098658">1</font>) {
<font color="#0000ff">$this</font>-&gt;<font color="#795e26">CheckLogin</font>(); <font color="#008000">// Check login</font>

// Select single post by id
<font color="#af00db">if</font> ((!<font color="#795e26">is_array</font>(<font color="#001080">$IdOrFrom</font>) &amp;&amp; <font color="#001080">$IdOrFrom</font> != -<font color="#098658">1</font>) &amp;&amp; <font color="#001080">$To</font> == -<font color="#098658">1</font>)
{
<font color="#001080">$Model</font> = <font color="#0000ff">$this</font>-&gt;<font color="#795e26">CallModel</font>(<font color="#a31515">&quot;Post&quot;</font>);
<font color="#001080">$Rows</font> = <font color="#001080">$Model</font>-&gt;<font color="#795e26">GetPostById</font>(
[<font color="#a31515">'Id'</font> =&gt; <font color="#001080">$IdOrFrom</font>]
);

<font color="#af00db">if</font> (<font color="#795e26">count</font>(<font color="#001080">$Rows</font>) == <font color="#098658">0</font>)
<font color="#af00db">throw</font> <font color="#0000ff">new</font> <font color="#267f99">NotFoundException</font>(<font color="#a31515">'Post with passed Id not found.'</font>);

<font color="#001080">$Rows</font>[<font color="#098658">0</font>][<font color="#a31515">'Title'</font>] = <font color="#795e26">utf8_decode</font>(<font color="#001080">$Rows</font>[<font color="#098658">0</font>][<font color="#a31515">'Title'</font>]);
<font color="#001080">$Rows</font>[<font color="#098658">0</font>][<font color="#a31515">'Body'</font>] = <font color="#795e26">utf8_decode</font>(<font color="#001080">$Rows</font>[<font color="#098658">0</font>][<font color="#a31515">'Body'</font>]);

<font color="#0000ff">parent</font>::<font color="#795e26">SendResponse</font>(<font color="#098658">200</font>, <font color="#001080">$Rows</font>);

}
// Select multiple posts with limitations
else
{

// Lazy load limitations
<font color="#001080">$From</font> = <font color="#098658">0</font>;
<font color="#af00db">if</font> (!<font color="#795e26">is_array</font>(<font color="#001080">$IdOrFrom</font>) &amp;&amp; <font color="#001080">$IdOrFrom</font>&gt;<font color="#098658">0</font>)
<font color="#001080">$From</font> = (<font color="#0000ff">int</font>) <font color="#795e26">trim</font>(<font color="#001080">$IdOrFrom</font>);
<font color="#af00db">if</font> (<font color="#001080">$To</font> == -<font color="#098658">1</font>)
<font color="#001080">$To</font> = <font color="#098658">50</font>;
<font color="#af00db">else</font> <font color="#001080">$To</font> = (<font color="#0000ff">int</font>) <font color="#795e26">trim</font>(<font color="#001080">$To</font>);

// Call the model
<font color="#001080">$Model</font> = <font color="#0000ff">$this</font>-&gt;<font color="#795e26">CallModel</font>(<font color="#a31515">&quot;Post&quot;</font>);
<font color="#001080">$Rows</font> = <font color="#001080">$Model</font>-&gt;<font color="#795e26">GetAllPosts</font>([
<font color="#a31515">'From'</font> =&gt; <font color="#001080">$From</font>,
<font color="#a31515">'To'</font> =&gt; <font color="#001080">$To</font>
]);

<font color="#af00db">for</font> (<font color="#001080">$i</font> = <font color="#098658">0</font> ; <font color="#001080">$i</font> &lt; <font color="#795e26">count</font>(<font color="#001080">$Rows</font>) ; <font color="#001080">$i</font>++)
{
<font color="#001080">$Rows</font>[<font color="#001080">$i</font>][<font color="#a31515">'Title'</font>] = <font color="#795e26">utf8_decode</font>(<font color="#001080">$Rows</font>[<font color="#001080">$i</font>][<font color="#a31515">'Title'</font>]);
}

<font color="#0000ff">parent</font>::<font color="#795e26">SendResponse</font>(<font color="#098658">200</font>, <font color="#001080">$Rows</font>);
}
}
<font color="#0000ff">function</font> <font color="#795e26">POST</font>() {

<font color="#0000ff">$this</font>-&gt;<font color="#795e26">CheckLogin</font>(); <font color="#008000">// Check login</font>

<font color="#001080">$Values</font> = [
<font color="#a31515">'MasterId'</font> =&gt; (<font color="#0000ff">new</font> <font color="#267f99">Random</font>())::<font color="#795e26">GenerateGUID</font>(),
<font color="#a31515">'Title'</font> =&gt; <font color="#0000ff">$this</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#a31515">'title'</font>],
<font color="#a31515">'Body'</font> =&gt; <font color="#0000ff">$this</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#a31515">'body'</font>],
<font color="#a31515">'PersonId'</font> =&gt; <font color="#098658">1</font>,<font color="#008000">// $this-&gt;RequestBody['PersonId'], // TODO: Attention</font>
<font color="#a31515">'Status'</font> =&gt; <font color="#0000ff">$this</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#a31515">'status'</font>],
<font color="#a31515">'Language'</font> =&gt; <font color="#a31515">'fa-IR'</font> <font color="#008000">// $this-&gt;RequestBody['language'],</font>
];

<font color="#af00db">if</font> (<font color="#795e26">isset</font>(<font color="#0000ff">$this</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#098658">0</font>][<font color="#a31515">'content'</font>])) {
<font color="#001080">$Values</font>[<font color="#a31515">'BinContent'</font>] = <font color="#795e26">base64_encode</font>(<font color="#795e26">file_get_contents</font>(<font color="#0000ff">$this</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#098658">0</font>][<font color="#a31515">'content'</font>][<font color="#a31515">'tmp_name'</font>][<font color="#098658">0</font>]));
} <font color="#af00db">else</font> {
<font color="#001080">$Values</font>[<font color="#a31515">'BinContent'</font>] = <font color="#0000ff">null</font>;
}

<font color="#001080">$Model</font> = <font color="#0000ff">$this</font>-&gt;<font color="#795e26">CallModel</font>(<font color="#a31515">&quot;Post&quot;</font>);
<font color="#001080">$Model</font>-&gt;<font color="#795e26">InsertPost</font>(<font color="#001080">$Values</font>);

<font color="#0000ff">parent</font>::<font color="#795e26">SendResponse</font>(<font color="#098658">200</font>, <font color="#0000ff">$this</font>-&gt;<font color="#001080">RequestBody</font>);

}
<font color="#0000ff">function</font> <font color="#795e26">PUT</font>() {

<font color="#001080">$bincontent</font> = <font color="#0000ff">null</font>;
<font color="#af00db">if</font> (<font color="#795e26">isset</font>(<font color="#0000ff">$this</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#a31515">'content[]'</font>]))
// $bincontent = base64_encode(file_get_contents($this-&gt;RequestBody['content']['tmp_name'][0]));
<font color="#001080">$bincontent</font> = <font color="#795e26">base64_encode</font>(<font color="#0000ff">$this</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#a31515">'content[]'</font>]);

<font color="#001080">$Values</font> = [
<font color="#a31515">'MasterId'</font> =&gt;<font color="#0000ff">$this</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#a31515">'masterid'</font>],
<font color="#a31515">'Title'</font> =&gt; <font color="#0000ff">$this</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#a31515">'title'</font>],
<font color="#a31515">'BinContent'</font> =&gt; <font color="#001080">$bincontent</font>,
<font color="#a31515">'Body'</font> =&gt; <font color="#0000ff">$this</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#a31515">'body'</font>],
<font color="#a31515">'PersonId'</font> =&gt; <font color="#098658">1</font>,<font color="#008000">// $this-&gt;RequestBody['PersonId'], // TODO: Attention</font>
<font color="#a31515">'Status'</font> =&gt; <font color="#0000ff">$this</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#a31515">'status'</font>],
<font color="#a31515">'IsContentDeleted'</font> =&gt; <font color="#795e26">isset</font>(<font color="#0000ff">$this</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#a31515">'deletecontent'</font>]),
<font color="#a31515">'Language'</font> =&gt; <font color="#a31515">'fa-IR'</font> <font color="#008000">// $this-&gt;RequestBody['language'],</font>
];

<font color="#001080">$Model</font> = <font color="#0000ff">$this</font>-&gt;<font color="#795e26">CallModel</font>(<font color="#a31515">&quot;Post&quot;</font>);
<font color="#001080">$Model</font>-&gt;<font color="#795e26">UpdatePost</font>(<font color="#001080">$Values</font>);

<font color="#0000ff">parent</font>::<font color="#795e26">SendResponse</font>(<font color="#098658">200</font>, <font color="#a31515">&quot;Post '&quot;</font> . <font color="#0000ff">$this</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#a31515">'masterid'</font>] . <font color="#a31515">&quot;' updated successfuly.&quot;</font>);
}
<font color="#0000ff">function</font> <font color="#795e26">DELETE</font>() {
<font color="#001080">$Values</font> = [
<font color="#a31515">'MasterId'</font> =&gt;<font color="#0000ff">$this</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#a31515">'masterid'</font>],
<font color="#a31515">'Title'</font> =&gt; <font color="#0000ff">$this</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#a31515">'title'</font>],
<font color="#a31515">'Body'</font> =&gt; <font color="#0000ff">$this</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#a31515">'body'</font>],
<font color="#a31515">'PersonId'</font> =&gt; <font color="#098658">1</font>,<font color="#008000">// $this-&gt;RequestBody['PersonId'], // TODO: Attention</font>
<font color="#a31515">'Language'</font> =&gt; <font color="#a31515">'fa-IR'</font> <font color="#008000">// $this-&gt;RequestBody['language'],</font>
];

<font color="#001080">$Model</font> = <font color="#0000ff">$this</font>-&gt;<font color="#795e26">CallModel</font>(<font color="#a31515">&quot;Post&quot;</font>);
<font color="#001080">$Model</font>-&gt;<font color="#795e26">DeletePost</font>(<font color="#001080">$Values</font>);

<font color="#0000ff">parent</font>::<font color="#795e26">SendResponse</font>(<font color="#098658">200</font>, <font color="#a31515">&quot;Post '&quot;</font> . <font color="#0000ff">$this</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#a31515">'masterid'</font>] . <font color="#a31515">&quot;' deleted successfuly.&quot;</font>);
}
}</pre>
</div>
<h1 class="western" style="page-break-before: always"><a name="__RefHeading___Toc11286_2132680262"></a>
<font face="B Nazanin"><font size="5"><span lang="fa-IR">۵فصل
پنجم</span></font></font><br/>
<font face="B Nazanin"><font size="5" style="font-size: 19pt"><span lang="fa-IR">جمع‌بندی
و نتیجه‌گیری</span></font></font></h1>
<h2 class="western" style="page-break-before: always"><a name="__RefHeading___Toc10896_3878499706"></a>
<font size="5"><span lang="fa-IR">۵.۱نتیجه‌گیری</span></font></span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">استفاده
از یک فریم‌ورک به شرط آگاهی از خواص
پایگاه‌داده در حالت بهینه قرار می‌گیرد</span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">.
</font></font><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
فریم‌ورک در برخی از پروژه‌های صنعت
مورد استفاده قرار گرفته است و فرایند
تولید نرم‌افزار را لذت بخش‌تر، و
خروجی‌ها را به صورت کلی به برنامه‌های
بهینه‌تری تبدیل کرده است</span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">.</font></font></p>
<h2 class="western"><a name="__RefHeading___Toc10898_3878499706"></a><font size="5"><span lang="fa-IR">۵.۲پیشنهاد</span></font></span></font></h2>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">پیشنهاد
می‌شود که بتوان با استفاده از </span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">Meta
Programming </font></font><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">امکان
تولید برنامه با استفاده از واسط گرافیکی
فراهم شود</span></font></font><font face="B Nazanin"><font size="2" style="font-size: 10pt">.</font></font></p>
<h1 class="western" style="page-break-before: always"><a name="__RefHeading___Toc11288_2132680262"></a>
<font face="B Nazanin"><font size="5"><span lang="fa-IR">۶فصل
ششم</span></font></font><br/>
<font face="B Nazanin"><font size="5" style="font-size: 19pt"><span lang="fa-IR">پیوست</span></font></font></h1>
<p align="right" style="margin-top: 0.17in; margin-bottom: 0.08in; line-height: 0.2in; page-break-before: always; page-break-after: avoid">
<br/>
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc11196_762396803"></a><font size="5"><span lang="fa-IR">۶.۱کدها</span></font></span></font></h2>
<ol type="i">
	<li><h3 dir="ltr" class="filename-heading-1-western"><a name="__RefHeading___Toc11032_2828605944"></a>
	.htaccess</h3>
	<table width="100%" cellpadding="0" cellspacing="0">
		<col width="256*"/>

		<tr>
			<td width="100%" valign="top" style="border: none; padding: 0in"><pre dir="ltr" class="western"># Enable authentication
RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]

# Enable routing
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.+)$ index.php?/$1 [L]</pre>
			</td>
		</tr>
	</table>
	<li><h3 dir="ltr" class="filename-heading-1-western" style="font-weight: normal"><a name="__RefHeading___Toc1148_39550125621"></a>
	<font face="B Nazanin"><font size="3" style="font-size: 12pt"><i>Config.php</i></font></font></h3>
</ol>
<div id="Section22" dir="rtl"><pre dir="ltr" class="western">/**
* 
* App configuration
* 
*/

// Application name
<font color="#795e26">define</font>(<font color="#a31515">'_AppName'</font>, <font color="#a31515">'SF2'</font>);

// Default URL (For redirects and etc.)
<font color="#795e26">define</font>(<font color="#a31515">'_Root'</font>, <font color="#a31515">'http://localhost/SF/'</font>);

// TODO: WARNING: Disable debug on production server
<font color="#795e26">define</font>(<font color="#a31515">'_Debug'</font>, <font color="#0000ff">false</font>);

// To disable statistics, turn off the flag
<font color="#795e26">define</font>(<font color="#a31515">'_Statistics'</font>, <font color="#0000ff">false</font>);

// The directory used by file manager to upload user files
<font color="#795e26">define</font>(<font color="#a31515">'_UploadDirectory'</font>, <font color="#a31515">'Uploads/'</font>);

// MySQL Server details
<font color="#795e26">define</font>(<font color="#a31515">'_DatabaseServer'</font>, <font color="#a31515">'localhost'</font>);
<font color="#795e26">define</font>(<font color="#a31515">'_DatabaseUsername'</font>, <font color="#a31515">'root'</font>);
<font color="#795e26">define</font>(<font color="#a31515">'_DatabasePassword'</font>, <font color="#a31515">''</font>);
<font color="#795e26">define</font>(<font color="#a31515">'_DatabaseName'</font>, <font color="#a31515">'SF2'</font>);

// API Result Type
<font color="#795e26">define</font>(<font color="#a31515">'_APIRESULTTYPE'</font>, <font color="#a31515">'application/json'</font>);

// Mail Server
<font color="#795e26">define</font>(<font color="#a31515">'_MailServer'</font>, <font color="#a31515">''</font>);
<font color="#795e26">define</font>(<font color="#a31515">'_MailUser'</font>, <font color="#a31515">''</font>);
<font color="#795e26">define</font>(<font color="#a31515">'_MailPassword'</font>, <font color="#a31515">''</font>);
</pre>
</div>
<ol type="i" start="3">
	<li><h3 dir="ltr" class="filename-heading-1-western"><a name="__RefHeading___Toc1150_39550125621"></a>
	Index.php</h3>
</ol>
<div id="Section23" dir="rtl"><pre dir="ltr" class="western">// Read configuration
<font color="#795e26">include</font>(<font color="#a31515">'Core/Config.php'</font>);

// CORS
<font color="#795e26">header</font>(<font color="#a31515">'Access-Control-Allow-Origin: *'</font>);

// Allowed methods
<font color="#795e26">header</font>(<font color="#a31515">'Access-Control-Allow-Methods: GET, PUT, POST, DELETE, HEAD, VIEW'</font>);

// Debuf mode
<font color="#af00db">if</font> (_Debug)
{
// Report all PHP errors
<font color="#795e26">ini_set</font>(<font color="#a31515">'display_errors'</font>, <font color="#a31515">'1'</font>);
<font color="#795e26">ini_set</font>(<font color="#a31515">'display_startup_errors'</font>, <font color="#a31515">'1'</font>);
<font color="#795e26">error_reporting</font>(E_ALL);
}
else
// Turn off all error reporting
<font color="#795e26">error_reporting</font>(<font color="#098658">0</font>);

// Exception handler
<font color="#795e26">include</font>(<font color="#a31515">'Core/Exceptions.php'</font>);

// Cryptography
<font color="#795e26">include</font>(<font color="#a31515">'Libs/Cryptography.php'</font>);

// Cryptography
<font color="#795e26">include</font>(<font color="#a31515">'Libs/APR1.php'</font>);

// Random
<font color="#795e26">include</font>(<font color="#a31515">'Libs/Random.php'</font>);

// Strings
<font color="#795e26">include</font>(<font color="#a31515">'Libs/Strings.php'</font>);

// Models core
<font color="#795e26">include</font>(<font color="#a31515">'Core/Model.php'</font>);

// Middleware
<font color="#795e26">include</font>(<font color="#a31515">'Core/Middleware.php'</font>);

// Jalali Date
<font color="#795e26">include</font>(<font color="#a31515">'Libs/jdf.php'</font>);

// Routing
<font color="#795e26">include</font>(<font color="#a31515">'Core/Route.php'</font>);

// Security
<font color="#795e26">include</font>(<font color="#a31515">'Core/Auth.php'</font>);

// Check if it's an MVC API request
<font color="#af00db">if</font> (<font color="#795e26">count</font>((<font color="#0000ff">new</font> <font color="#267f99">Route</font>)::<font color="#795e26">GetPathInfo</font>()) &gt; <font color="#098658">0</font> &amp;&amp;
(<font color="#0000ff">new</font> <font color="#267f99">Route</font>)::<font color="#795e26">GetPathInfo</font>()[<font color="#098658">0</font>] == <font color="#a31515">'api'</font>)
{
// New JSON library to handle large arrays
<font color="#795e26">include</font>(<font color="#a31515">'Libs/JSON.php'</font>);

// Controllers core
<font color="#795e26">include</font>(<font color="#a31515">'Core/ApiController.php'</font>);

// Router
<font color="#795e26">include</font>(<font color="#a31515">'Core/ApiApp.php'</font>);

// Initialize
<font color="#0000ff">new</font> <font color="#267f99">ApiApp</font>;
}
// If was a MVC request
else
{
// Markdown
<font color="#795e26">include</font>(<font color="#a31515">'Libs/Parsedown.php'</font>);

// Controllers core
<font color="#795e26">include</font>(<font color="#a31515">'Core/Controller.php'</font>);

// Router
<font color="#795e26">include</font>(<font color="#a31515">'Core/App.php'</font>);

// Initialize
<font color="#0000ff">new</font> <font color="#267f99">App</font>;
}</pre>
</div>
<p class="western"><br/>
<br/>

</p>
<ol type="i" start="4">
	<li><h3 dir="ltr" class="filename-heading-1-western"><a name="__RefHeading___Toc10874_38784997061"></a>
	Route.php</h3>
</ol>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">در
این فایل توابعی وجود دارد که پس از پالایش
</span></font></font>(Parse) <font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">آدرس،
مسیر کنترلری را بر می‌گرداند که مسول
اجرای آن درخواست کاربر است</span></font></font>.</p>
<div id="Section24" dir="rtl"><pre dir="ltr" class="western"><font color="#0000ff">class</font> <font color="#267f99">Route</font> {
/**
* GetPathInfo
*
* Returns URL requested by Person
* 
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">array</font>
*/
<font color="#0000ff">static</font> <font color="#0000ff">function</font> <font color="#795e26">GetPathInfo</font>(){

<font color="#001080">$ActualLink</font> = <font color="#a31515">&quot;http://</font><font color="#001080">$_SERVER</font><font color="#a31515">[HTTP_HOST]</font><font color="#001080">$_SERVER</font><font color="#a31515">[REQUEST_URI]&quot;</font>;
// $ParsedUrl = parse_url($ActualLink);

// Use path info if exists
// index.php/value1/value2
<font color="#af00db">if</font> (<font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">'PATH_INFO'</font>]))
<font color="#001080">$PathInfo</font> = <font color="#795e26">trim</font>(
<font color="#001080">$_SERVER</font>[<font color="#a31515">'PATH_INFO'</font>]
, <font color="#a31515">'/'</font>);
// Use query string if exists
// index.php?/value1/value2
<font color="#af00db">else</font> <font color="#af00db">if</font> (<font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">'QUERY_STRING'</font>]))
<font color="#001080">$PathInfo</font> = <font color="#795e26">trim</font>(
<font color="#001080">$_SERVER</font>[<font color="#a31515">'QUERY_STRING'</font>]
, <font color="#a31515">'/'</font>);
// return null if no one exist
else
<font color="#af00db">return</font> [];
// convert to array and return
<font color="#001080">$Output</font> = <font color="#795e26">explode</font>(<font color="#a31515">'/'</font>, <font color="#001080">$PathInfo</font>);

// Add other query strings to the last parameter
<font color="#af00db">if</font> (<font color="#001080">$PathInfo</font> == <font color="#a31515">''</font>)
<font color="#af00db">return</font> <font color="#001080">$Output</font>;

<font color="#001080">$LeftOver</font> = <font color="#795e26">substr</font>(<font color="#001080">$ActualLink</font>,
<font color="#795e26">strpos</font>(<font color="#001080">$ActualLink</font>, <font color="#001080">$PathInfo</font>) + <font color="#795e26">strlen</font>(<font color="#001080">$PathInfo</font>));
<font color="#af00db">if</font> (<font color="#001080">$LeftOver</font> != <font color="#a31515">''</font> &amp;&amp; <font color="#795e26">str_replace</font>(<font color="#001080">$LeftOver</font>, <font color="#a31515">''</font>, <font color="#a31515">'/'</font>) != <font color="#a31515">''</font>)
<font color="#795e26">array_push</font>(<font color="#001080">$Output</font>, <font color="#795e26">urldecode</font>(<font color="#001080">$LeftOver</font>));

// return
<font color="#af00db">return</font> <font color="#001080">$Output</font>;

// TODO: Allow dynamic routing

// === Returns:

// If api
// Index 0: 'api'
// Index 1: Version
// Index 2: Controller
// Else if not api
// Index 0: Controller
// Index 1: Action
}
}</pre>
</div>
<ol type="i" start="5">
	<li><h3 dir="ltr" class="filename-heading-1-western"><a name="__RefHeading___Toc10876_38784997061"></a>
	Middleware.php</h3>
</ol>
<div id="Section25" dir="rtl"><pre dir="ltr" class="western"><font color="#0000ff">class</font> <font color="#267f99">Middleware</font> {

/**
* CallModel
*
* Sets, calls, and loads the model
* 
<font color="#008000">* </font><font color="#0000ff">@param</font><font color="#008000"> </font><font color="#0000ff">string</font><font color="#008000"> $Entity</font>
*
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">void</font>
*/
<font color="#0000ff">static</font> <font color="#0000ff">function</font> <font color="#795e26">CallModel</font>(<font color="#001080">$Entity</font>, <font color="#001080">$UsePDO</font> = <font color="#0000ff">true</font>){
// include_once the model
<font color="#795e26">include_once</font>(<font color="#a31515">'Model/'</font> . <font color="#001080">$Entity</font> . <font color="#a31515">'.php'</font>);
// if (!@include('Model/' . $Entity . '.php')) // Just a programming joke
// include('Model/' . $Entity . '.php');
// Create an instance of object
<font color="#af00db">return</font> <font color="#0000ff">new</font> <font color="#001080">$Entity</font>(<font color="#001080">$UsePDO</font>);
}

/**
* GetUserFunctionArgumentNames
* 
* Gets attributes/paramters/arguments names
* of a function in runtime dynamically.
* 
* 
*/
<font color="#0000ff">static</font> <font color="#0000ff">function</font> <font color="#795e26">GetUserFunctionArgumentNames</font>(<font color="#001080">$pair</font>){
<font color="#001080">$ReflectClass</font> = <font color="#0000ff">new</font> <font color="#267f99">ReflectionClass</font>(<font color="#001080">$pair</font>[<font color="#098658">0</font>]);
<font color="#001080">$ReflectMethod</font> = <font color="#001080">$ReflectClass</font>-&gt;<font color="#795e26">getMethod</font>(<font color="#001080">$pair</font>[<font color="#098658">1</font>]);
<font color="#001080">$Paramters</font> = <font color="#001080">$ReflectMethod</font>-&gt;<font color="#795e26">getParameters</font>();
<font color="#001080">$ParamterNames</font> = <font color="#795e26">array</font>();
<font color="#af00db">foreach</font>(<font color="#001080">$Paramters</font> as <font color="#001080">$Paramter</font>)
{
<font color="#795e26">array_push</font>(<font color="#001080">$ParamterNames</font>, <font color="#001080">$Paramter</font>-&gt;<font color="#795e26">getName</font>());
}
<font color="#af00db">return</font> <font color="#001080">$ParamterNames</font>;
}
}
</pre>
</div>
<ol type="i" start="6">
	<li><h3 dir="ltr" class="filename-heading-1-western"><a name="__RefHeading___Toc10878_38784997061"></a>
	Exceptions.php</h3>
</ol>
<div id="Section26" dir="rtl"><pre dir="ltr" class="western">// HTTP 401
<font color="#0000ff">class</font> <font color="#267f99">UnauthException</font> <font color="#0000ff">extends</font> <font color="#267f99">Exception</font>{ }
// HTTP 403
<font color="#0000ff">class</font> <font color="#267f99">AuthException</font> <font color="#0000ff">extends</font> <font color="#267f99">Exception</font>{ }
// HTTP 404
<font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"><span style="background: #ffffff">class</span></span></font></font></font><font color="#000000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"><span style="background: #ffffff"> </span></span></font></font></font><font color="#267f99"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"><span style="background: #ffffff">NotFoundException</span></span></font></font></font><font color="#000000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"><span style="background: #ffffff"> </span></span></font></font></font><font color="#0000ff"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"><span style="background: #ffffff">extends</span></span></font></font></font><font color="#000000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"><span style="background: #ffffff"> </span></span></font></font></font><font color="#267f99"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"><span style="background: #ffffff">Exception</span></span></font></font></font><font color="#000000"><font face="Droid Sans Mono, monospace, monospace, Droid Sans Fallback"><font size="2" style="font-size: 10pt"><span style="font-weight: normal"><span style="background: #ffffff">{ }</span></span></font></font></font></pre>
</div>
<ol type="i" start="7">
	<li><h3 dir="ltr" class="filename-heading-1-western"><a name="__RefHeading___Toc10880_38784997061"></a>
	Auth.php</h3>
</ol>
<div id="Section27" dir="rtl"><pre dir="ltr" class="western"><font color="#0000ff">class</font> <font color="#267f99">Auth</font> {

<font color="#0000ff">protected</font> <font color="#001080">$ParentController</font>;

<font color="#0000ff">function</font> <font color="#795e26">__construct</font>(<font color="#001080">$ParentController</font>) {
<font color="#0000ff">$this</font>-&gt;<font color="#001080">ParentController</font> = <font color="#001080">$ParentController</font>;
}

/**
* CheckLogin
*
* Checks the Person role and login
* 
<font color="#008000">* </font><font color="#0000ff">@param</font><font color="#008000"> </font><font color="#0000ff">mixed</font><font color="#008000"> $Data</font>
<font color="#008000">* </font><font color="#0000ff">@param</font><font color="#008000"> </font><font color="#0000ff">mixed</font><font color="#008000"> $Role</font>
*
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">void</font>
*/
<font color="#0000ff">function</font> <font color="#795e26">CheckLogin</font>(<font color="#001080">$Data</font>, <font color="#001080">$Role</font> = <font color="#a31515">'admin'</font>)
{

// If php_auth_user is denied on server and
// RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]
// is enabled in .htaccess
// then manualy set the auth info
<font color="#af00db">if</font> (<font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">'HTTP_AUTHORIZATION'</font>])
and <font color="#001080">$_SERVER</font>[<font color="#a31515">'HTTP_AUTHORIZATION'</font>] != <font color="#a31515">''</font>)
<font color="#795e26">list</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">'PHP_AUTH_USER'</font>], <font color="#001080">$_SERVER</font>[<font color="#a31515">'PHP_AUTH_PW'</font>]) = 
<font color="#795e26">explode</font>(<font color="#a31515">':'</font>, <font color="#795e26">base64_decode</font>(<font color="#795e26">substr</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">'HTTP_AUTHORIZATION'</font>], <font color="#098658">6</font>)));

// Check admins with the .htpasswd file
<font color="#af00db">if</font> (<font color="#001080">$Role</font> == <font color="#a31515">'admin'</font>)
{
// Read the passwords file
<font color="#001080">$Lines</font> = <font color="#795e26">array</font>();
<font color="#af00db">if</font> (<font color="#001080">$file</font> = <font color="#795e26">fopen</font>(<font color="#a31515">&quot;.htpasswd&quot;</font>, <font color="#a31515">&quot;r&quot;</font>)) {
<font color="#af00db">while</font>(!<font color="#795e26">feof</font>(<font color="#001080">$file</font>)) {
<font color="#795e26">array_push</font>(<font color="#001080">$Lines</font>,<font color="#795e26">fgets</font>(<font color="#001080">$file</font>));
}
<font color="#795e26">fclose</font>(<font color="#001080">$file</font>);
}

// Break to lines to two dimensional array
<font color="#001080">$Credits</font> = <font color="#795e26">array_map</font>(<font color="#0000ff">function</font>(<font color="#001080">$val</font>) {
<font color="#af00db">if</font> (<font color="#001080">$val</font>)
<font color="#af00db">return</font> <font color="#795e26">explode</font>(<font color="#a31515">':'</font>, <font color="#001080">$val</font>);
}, <font color="#001080">$Lines</font>);
// Check if pasword is sent
<font color="#af00db">if</font> (!<font color="#795e26">isset</font>(<font color="#001080">$Data</font>[<font color="#a31515">'Username'</font>])) {
a:
<font color="#af00db">throw</font> <font color="#0000ff">new</font> <font color="#267f99">UnauthException</font>();
} <font color="#af00db">else</font> {
// Check passwords
<font color="#af00db">foreach</font> (<font color="#001080">$Credits</font> as <font color="#001080">$Credit</font>)
{ 
// Check username
<font color="#af00db">if</font> (<font color="#001080">$Data</font>[<font color="#a31515">'Username'</font>] != <font color="#001080">$Credit</font>[<font color="#098658">0</font>])
<font color="#af00db">continue</font>;

// Check plaintext password against an APR1-MD5 hash
<font color="#001080">$plain_text_passwd</font> = <font color="#001080">$Data</font>[<font color="#a31515">'Password'</font>];
<font color="#001080">$check_result</font> = <font color="#267f99">APR1_MD5</font>::<font color="#795e26">check</font>(<font color="#001080">$plain_text_passwd</font>, <font color="#795e26">rtrim</font>(<font color="#001080">$Credit</font>[<font color="#098658">1</font>]));

// If not correct
<font color="#af00db">if</font> (!<font color="#001080">$check_result</font>)
<font color="#af00db">throw</font> <font color="#0000ff">new</font> <font color="#267f99">UnauthException</font>();

// If correct
<font color="#af00db">return</font> <font color="#0000ff">true</font>;
}
// If failed
<font color="#af00db">goto</font> a;
}
}

// Check others with database
else
{

<font color="#001080">$Values</font> = [
<font color="#a31515">'Username'</font> =&gt; <font color="#001080">$Data</font>[<font color="#a31515">'Username'</font>],
<font color="#a31515">'Password'</font> =&gt; (<font color="#0000ff">new</font> <font color="#267f99">Cryptography</font>())-&gt;<font color="#795e26">Encrypt</font>(<font color="#001080">$Data</font>[<font color="#a31515">'Password'</font>])
];

<font color="#001080">$Model</font> = <font color="#0000ff">$this</font>-&gt;<font color="#001080">ParentController</font>-&gt;<font color="#795e26">CallModel</font>(<font color="#a31515">'Authentication'</font>);
<font color="#001080">$Entity</font> = <font color="#001080">$Model</font>-&gt;<font color="#795e26">ValidatePersonPass</font>(<font color="#001080">$Values</font>);

// TODO: Check sessions

<font color="#af00db">return</font> (<font color="#795e26">count</font>(<font color="#001080">$Entity</font>) == <font color="#098658">1</font>);
}
}

}</pre>
</div>
<ol type="i" start="8">
	<li><h3 dir="ltr" class="filename-heading-1-western"><a name="__RefHeading___Toc10886_38784997061"></a>
	App.php</h3>
</ol>
<p class="western"><font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">این
فایل وظیفه‌ی اجرای یک نمونه از کنترلر
مربوط به درخواست کاربر را برعهده دارد</span></font></font>.
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">همچنین
این اسکریپت وظیفه‌ی مدیریت </span></font></font>(Handle)
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><span lang="fa-IR">خطای
پیش آمده در اجرای کنترلر را برعهده دارد</span></font></font>.</p>
<div id="Section31" dir="rtl"><pre dir="ltr" class="western"><font color="#0000ff">class</font> <font color="#267f99">App</font>
{

/**
*
* Values are default values
*
*/
<font color="#0000ff">private</font> <font color="#001080">$Controller</font> = <font color="#a31515">'HomeController'</font>;
<font color="#0000ff">private</font> <font color="#001080">$DefaultViewDirectoryOfController</font> = <font color="#a31515">'Home'</font>;
<font color="#0000ff">private</font> <font color="#001080">$View</font> = <font color="#a31515">'Index'</font>;
<font color="#0000ff">private</font> <font color="#001080">$Params</font> = [];

/**
* HandleError
*
* Throw low level errors which are log-able from web server
*
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">array</font>
*/
<font color="#0000ff">function</font> <font color="#795e26">HandleError</font>(<font color="#001080">$HttpStatusCode</font>, <font color="#001080">$Message</font> = <font color="#a31515">''</font>)
{
<font color="#af00db">switch</font> (<font color="#001080">$HttpStatusCode</font>)
{
<font color="#af00db">case</font> <font color="#098658">401</font>:
<font color="#795e26">header</font>(<font color="#a31515">'WWW-Authenticate: Basic realm=&quot;My Realm&quot;'</font>);
<font color="#795e26">header</font>(<font color="#a31515">'HTTP/1.0 401 Unauthorized'</font>);
<font color="#267f99">Controller</font>::<font color="#795e26">RedirectResponse</font>(_Root . <font color="#a31515">'static/errors/HTTP401.html'</font>);
<font color="#af00db">break</font>;
<font color="#af00db">case</font> <font color="#098658">403</font>:
<font color="#795e26">header</font>(<font color="#a31515">'HTTP/1.0 403 Forbidden'</font>);
<font color="#267f99">Controller</font>::<font color="#795e26">RedirectResponse</font>(_Root . <font color="#a31515">'static/errors/HTTP403.html'</font>);
<font color="#af00db">break</font>;
<font color="#af00db">case</font> <font color="#098658">404</font>:
<font color="#795e26">header</font>(<font color="#a31515">'HTTP/1.0 404 Not Found'</font>);
// Controller::RedirectResponse(_Root . 'static/errors/HTTP404.html');
<font color="#795e26">include</font>(<font color="#a31515">'static/errors/HTTP404.html'</font>);
<font color="#af00db">break</font>;
<font color="#af00db">default</font>:
<font color="#af00db">throw</font> <font color="#0000ff">new</font> <font color="#267f99">Exception</font>(<font color="#001080">$Message</font>);
<font color="#af00db">die</font>();
}
}

/**
* __construct
*
* Class Constructor which is called on any request
*
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">void</font>
*/
<font color="#0000ff">function</font> <font color="#795e26">__construct</font>()
{
// Get URL
<font color="#001080">$URL</font> = <font color="#267f99">Route</font>::<font color="#795e26">GetPathInfo</font>();

// Routing
// TODO: Use a routing mechanism which allows configuration
// Set Controller
<font color="#af00db">if</font> (<font color="#795e26">isset</font>(<font color="#001080">$URL</font>[<font color="#098658">0</font>]) and <font color="#001080">$URL</font>[<font color="#098658">0</font>] != <font color="#a31515">''</font>)
{
// If it was reseved folders names
<font color="#af00db">if</font> (<font color="#001080">$URL</font>[<font color="#098658">0</font>] == <font color="#a31515">'static'</font>
or <font color="#001080">$URL</font>[<font color="#098658">0</font>] == <font color="#a31515">'gui'</font>
or <font color="#001080">$URL</font>[<font color="#098658">0</font>] == <font color="#a31515">'docs'</font>
) <font color="#af00db">return</font>;
// Else
<font color="#0000ff">$this</font>-&gt;<font color="#001080">DefaultViewDirectoryOfController</font> = <font color="#001080">$URL</font>[<font color="#098658">0</font>];
<font color="#0000ff">$this</font>-&gt;<font color="#001080">Controller</font> = <font color="#001080">$URL</font>[<font color="#098658">0</font>] . <font color="#a31515">'Controller'</font>;
<font color="#795e26">unset</font>(<font color="#001080">$URL</font>[<font color="#098658">0</font>]);
}
// Set View
<font color="#af00db">if</font> (<font color="#795e26">isset</font>(<font color="#001080">$URL</font>[<font color="#098658">1</font>]) and <font color="#001080">$URL</font>[<font color="#098658">1</font>] != <font color="#a31515">''</font>)
{
<font color="#0000ff">$this</font>-&gt;<font color="#001080">View</font> = <font color="#001080">$URL</font>[<font color="#098658">1</font>];
<font color="#795e26">unset</font>(<font color="#001080">$URL</font>[<font color="#098658">1</font>]);
}
// Define public variables
<font color="#795e26">define</font>(<font color="#a31515">'_Controller'</font>, <font color="#0000ff">$this</font>-&gt;<font color="#001080">Controller</font>);
<font color="#795e26">define</font>(<font color="#a31515">'_View'</font>, <font color="#0000ff">$this</font>-&gt;<font color="#001080">View</font>);
// Get other parameters
<font color="#0000ff">$this</font>-&gt;<font color="#001080">Params</font> = <font color="#795e26">array_values</font>(<font color="#001080">$URL</font>);
// Call the method form class
<font color="#001080">$ControllerFilePath</font> = <font color="#a31515">'Controller/'</font> . <font color="#0000ff">$this</font>-&gt;<font color="#001080">Controller</font> . <font color="#a31515">'.php'</font>;
// If controller file does not exist
<font color="#af00db">if</font> (!<font color="#795e26">file_exists</font>(<font color="#001080">$ControllerFilePath</font>)) <font color="#0000ff">$this</font>-&gt;<font color="#795e26">HandleError</font>(<font color="#098658">404</font>);
// Include the controller file
<font color="#af00db">include</font> (<font color="#001080">$ControllerFilePath</font>);
// Create an instance of controller class
<font color="#001080">$ClassObject</font> = <font color="#0000ff">new</font> <font color="#0000ff">$this</font>-&gt;<font color="#795e26">Controller</font>();
// Set the view folder
<font color="#001080">$ClassObject</font>-&gt;<font color="#795e26">SetViewDirectory</font>(<font color="#0000ff">$this</font>-&gt;<font color="#001080">DefaultViewDirectoryOfController</font>);
// Get the method
<font color="#001080">$HttpMethod</font> = <font color="#001080">$_SERVER</font>[<font color="#a31515">'REQUEST_METHOD'</font>];
// Find the function
<font color="#001080">$ControllerMethod</font> = <font color="#0000ff">$this</font>-&gt;<font color="#001080">View</font> . <font color="#001080">$HttpMethod</font>;
// Call the method if exists
<font color="#af00db">if</font> (!<font color="#795e26">method_exists</font>(<font color="#001080">$ClassObject</font>, <font color="#001080">$ControllerMethod</font>)) <font color="#0000ff">$this</font>-&gt;<font color="#795e26">HandleError</font>(<font color="#098658">404</font>);

// Convert overloaded query strings to $_GET items
<font color="#001080">$MethodDefinedParamters</font> = <font color="#267f99">Middleware</font>::<font color="#795e26">GetUserFunctionArgumentNames</font>([<font color="#001080">$ClassObject</font>, <font color="#001080">$ControllerMethod</font>]);
<font color="#001080">$sizeofPassedParams</font> = <font color="#795e26">sizeof</font>(<font color="#0000ff">$this</font>-&gt;<font color="#001080">Params</font>);
// Use path_info instead of 'overloaded query string' parameters
// Controller/Action/Param1Value/?Param2=Param2Value
// index.php/Controller/Action/Param1Value/?Param2=Param2Value
// index.php?/Controller/Action/Param1Value/?Param2=Param2Value
// In the three examples above, the Param2 is overloaded querystring
// Which it will be replaced by function paramter name for simpler
// programming of plugins and third-party software

// Check if there is a 'overloaded query string' included
// Logic: the last paramter must contain a question mark (?)
<font color="#af00db">if</font> (<font color="#001080">$sizeofPassedParams</font> &gt; <font color="#098658">0</font>)
<font color="#af00db">if</font> (<font color="#795e26">strpos</font>(<font color="#0000ff">$this</font>-&gt;<font color="#001080">Params</font>[<font color="#001080">$sizeofPassedParams</font> - <font color="#098658">1</font>], <font color="#a31515">'?'</font>) !== <font color="#0000ff">false</font>)
{

// Parse overloaded query strings
<font color="#001080">$KeyValuePairs</font> = <font color="#795e26">explode</font>( <font color="#a31515">'&amp;'</font> , <font color="#008000">// Delimiter</font>
<font color="#795e26">substr</font>(<font color="#0000ff">$this</font>-&gt;<font color="#001080">Params</font>[<font color="#001080">$sizeofPassedParams</font> -<font color="#098658">1</font>] <font color="#008000">// string</font>
,<font color="#795e26">strpos</font>(
<font color="#0000ff">$this</font>-&gt;<font color="#001080">Params</font>[<font color="#001080">$sizeofPassedParams</font> - <font color="#098658">1</font>]
, <font color="#a31515">'?'</font> <font color="#008000">// Begining of query string</font>
) + <font color="#098658">1</font> <font color="#008000">// start position</font>
) <font color="#008000">// key pairs</font>
); <font color="#008000">// key pairs array</font>

// Clear the last paramter value from overloaded
// query strings with substring
<font color="#0000ff">$this</font>-&gt;<font color="#001080">Params</font>[<font color="#001080">$sizeofPassedParams</font> - <font color="#098658">1</font>] =
<font color="#795e26">substr</font>(<font color="#0000ff">$this</font>-&gt;<font color="#001080">Params</font>[<font color="#001080">$sizeofPassedParams</font> - <font color="#098658">1</font>], <font color="#098658">0</font>,
<font color="#795e26">strpos</font>(<font color="#0000ff">$this</font>-&gt;<font color="#001080">Params</font>[<font color="#001080">$sizeofPassedParams</font> - <font color="#098658">1</font>], <font color="#a31515">'?'</font>));
// replace '/' with ''
<font color="#0000ff">$this</font>-&gt;<font color="#001080">Params</font>[<font color="#001080">$sizeofPassedParams</font> - <font color="#098658">1</font>] =
<font color="#795e26">str_replace</font>(<font color="#a31515">'/'</font>, <font color="#a31515">''</font>, <font color="#0000ff">$this</font>-&gt;<font color="#001080">Params</font>[<font color="#001080">$sizeofPassedParams</font> - <font color="#098658">1</font>]);

<font color="#001080">$i</font> = <font color="#098658">0</font>;
<font color="#af00db">foreach</font> (<font color="#001080">$MethodDefinedParamters</font> as <font color="#001080">$MethodDefinedParamter</font>)
{
<font color="#001080">$i</font>++; <font color="#008000">// loop counter</font>
// Skip previously defined values of
// method paramters from passed parameters
<font color="#af00db">if</font> (<font color="#001080">$i</font> &lt; <font color="#001080">$sizeofPassedParams</font>)
{
// if (strpos($KeyValuePairs[$i], '=') === false)
<font color="#af00db">continue</font>;
}
// then decied for other paramters
// and set their values from query strings
// NOTE: OVERLOADED QUERY STRING VALUES
// WHICH ARE PASSED BEFORE AS PATH_INFO
// WILL NOT BE REPLACED.
<font color="#001080">$found</font> = <font color="#0000ff">false</font>;
<font color="#af00db">foreach</font> (<font color="#001080">$KeyValuePairs</font> as <font color="#001080">$KeyValue</font>)
{
// If it's a valid keyval pair
// Logic: string contains equal mark (=)
<font color="#af00db">if</font> (<font color="#795e26">strpos</font>(<font color="#001080">$KeyValue</font>, <font color="#a31515">'='</font>) !== <font color="#0000ff">false</font>)
{
<font color="#af00db">if</font> (<font color="#795e26">explode</font>(<font color="#a31515">'='</font>, <font color="#001080">$KeyValue</font>)[<font color="#098658">0</font>] == <font color="#001080">$MethodDefinedParamter</font>)
{
<font color="#001080">$found</font> = <font color="#0000ff">true</font>;
// Add the value to paramters
<font color="#0000ff">$this</font>-&gt;<font color="#001080">Params</font>[<font color="#001080">$i</font>-<font color="#098658">1</font>] = <font color="#795e26">explode</font>(<font color="#a31515">'='</font>, <font color="#001080">$KeyValue</font>)[<font color="#098658">1</font>];
}
}
}
<font color="#af00db">if</font> (!<font color="#001080">$found</font>)
{
<font color="#0000ff">$this</font>-&gt;<font color="#001080">Params</font>[<font color="#001080">$i</font>-<font color="#098658">1</font>] = <font color="#a31515">''</font>;
}
}
// If overloaded query string was passed
// but not mentioned as a function argument
// load it as $_GET.

<font color="#af00db">foreach</font> (<font color="#001080">$KeyValuePairs</font> as <font color="#001080">$KeyValue</font>)
{
<font color="#001080">$found</font> = <font color="#0000ff">false</font>;
<font color="#af00db">foreach</font> (<font color="#001080">$MethodDefinedParamters</font> as <font color="#001080">$MethodDefinedParamter</font>)
{
<font color="#af00db">if</font> (<font color="#795e26">strpos</font>(<font color="#001080">$KeyValue</font>, <font color="#a31515">'='</font>) !== <font color="#0000ff">false</font>)
{
<font color="#af00db">if</font> (<font color="#795e26">explode</font>(<font color="#a31515">'='</font>, <font color="#001080">$KeyValue</font>)[<font color="#098658">0</font>] == <font color="#001080">$MethodDefinedParamter</font>)
<font color="#001080">$found</font> = <font color="#0000ff">true</font>;
}
else
{
<font color="#af00db">if</font> (<font color="#001080">$KeyValue</font> == <font color="#001080">$MethodDefinedParamter</font>)
<font color="#001080">$found</font> = <font color="#0000ff">true</font>;
}

}
<font color="#af00db">if</font> (!<font color="#001080">$found</font>)
{
<font color="#af00db">if</font> (<font color="#795e26">strpos</font>(<font color="#001080">$KeyValue</font>, <font color="#a31515">'='</font>) !== <font color="#0000ff">false</font>)
{
<font color="#001080">$_GET</font>[<font color="#795e26">explode</font>(<font color="#a31515">'='</font>, <font color="#001080">$KeyValue</font>)[<font color="#098658">0</font>]] = <font color="#795e26">explode</font>(<font color="#a31515">'='</font>, <font color="#001080">$KeyValue</font>)[<font color="#098658">1</font>];
}
else
{
<font color="#001080">$_GET</font>[<font color="#001080">$KeyValue</font>] = <font color="#a31515">'true'</font>;
}
}
}
}

// Call the function
<font color="#af00db">if</font> (_Debug) <font color="#795e26">call_user_func_array</font>([<font color="#001080">$ClassObject</font>, <font color="#001080">$ControllerMethod</font>], <font color="#0000ff">$this</font>-&gt;<font color="#001080">Params</font>);
<font color="#af00db">else</font> <font color="#af00db">try</font>
{
// Call the view
<font color="#795e26">call_user_func_array</font>([<font color="#001080">$ClassObject</font>, <font color="#001080">$ControllerMethod</font>], <font color="#0000ff">$this</font>-&gt;<font color="#001080">Params</font>);
}
<font color="#af00db">catch</font>(<font color="#267f99">AuthException</font> <font color="#001080">$exp</font>)
{ <font color="#008000">// On auth error</font>
<font color="#0000ff">$this</font>-&gt;<font color="#795e26">HandleError</font>(<font color="#098658">403</font>);
}
<font color="#af00db">catch</font>(<font color="#267f99">NotFoundException</font> <font color="#001080">$exp</font>)
{ <font color="#008000">// on not found error</font>
<font color="#0000ff">$this</font>-&gt;<font color="#795e26">HandleError</font>(<font color="#098658">404</font>);
}
<font color="#af00db">catch</font>(<font color="#267f99">UnauthException</font> <font color="#001080">$exp</font>)
{ <font color="#008000">// on unauthorized exception</font>
<font color="#0000ff">$this</font>-&gt;<font color="#795e26">HandleError</font>(<font color="#098658">401</font>);
}
<font color="#af00db">catch</font>(<font color="#267f99">UnauthException</font> <font color="#001080">$exp</font>)
{
// TODO:
}
}

}</pre>
</div>
<ol type="i" start="9">
	<li><h3 dir="ltr" class="filename-heading-1-western"><a name="__RefHeading___Toc10888_38784997061"></a>
	ApiApp.php</h3>
</ol>
<div id="Section32" dir="rtl"><pre dir="ltr" class="western"><font color="#0000ff">class</font> <font color="#267f99">ApiApp</font>
{
<font color="#0000ff">protected</font> <font color="#001080">$HttpStatus</font>;
<font color="#0000ff">protected</font> <font color="#001080">$Controller</font>;
<font color="#0000ff">protected</font> <font color="#001080">$Version</font>;
<font color="#0000ff">function</font> <font color="#795e26">__construct</font>(){

// Get URL
<font color="#001080">$URL</font> = <font color="#267f99">Route</font>::<font color="#795e26">GetPathInfo</font>();

// Routing
// Version
<font color="#0000ff">$this</font>-&gt;<font color="#001080">Version</font> = <font color="#001080">$URL</font>[<font color="#098658">1</font>];
// Controller
<font color="#af00db">if</font> (<font color="#795e26">strpos</font>(<font color="#001080">$URL</font>[<font color="#098658">2</font>], <font color="#a31515">'?'</font>) !== <font color="#0000ff">false</font>)
{
<font color="#001080">$URL</font>[<font color="#098658">2</font>] = <font color="#795e26">substr</font>(<font color="#001080">$URL</font>[<font color="#098658">2</font>], <font color="#098658">0</font>, <font color="#795e26">strpos</font>(<font color="#001080">$URL</font>[<font color="#098658">2</font>], <font color="#a31515">'?'</font>));
// As $_GET is passed as keyvalue array
// which is not simple editable
<font color="#001080">$key</font> = <font color="#795e26">array_keys</font>(<font color="#001080">$_GET</font>)[<font color="#098658">0</font>];
<font color="#001080">$value</font> = <font color="#795e26">array_values</font>(<font color="#001080">$_GET</font>)[<font color="#098658">0</font>];
<font color="#795e26">unset</font>(<font color="#001080">$_GET</font>[<font color="#001080">$key</font>]);
<font color="#001080">$key</font> = <font color="#795e26">substr</font>(<font color="#001080">$key</font>, <font color="#795e26">strpos</font>(<font color="#001080">$key</font>, <font color="#a31515">'?'</font>) + <font color="#098658">1</font>);
<font color="#001080">$_GET</font> = <font color="#795e26">array_reverse</font>(<font color="#001080">$_GET</font>);
<font color="#001080">$_GET</font>[<font color="#001080">$key</font>] = <font color="#001080">$value</font>;
<font color="#001080">$_GET</font> = <font color="#795e26">array_reverse</font>(<font color="#001080">$_GET</font>);
}
<font color="#0000ff">$this</font>-&gt;<font color="#001080">Controller</font> = <font color="#001080">$URL</font>[<font color="#098658">2</font>].<font color="#a31515">'Controller'</font>;
// Call the method form class
<font color="#001080">$ControllerFilePath</font> = <font color="#a31515">'API/'</font> . <font color="#0000ff">$this</font>-&gt;<font color="#001080">Version</font> . <font color="#a31515">'/'</font> . <font color="#0000ff">$this</font>-&gt;<font color="#001080">Controller</font>.<font color="#a31515">'.php'</font>;
// Include the controller file
<font color="#795e26">include</font>(<font color="#001080">$ControllerFilePath</font>);
// Create an instance of controller class
<font color="#001080">$ClassObject</font> = <font color="#0000ff">new</font> <font color="#0000ff">$this</font>-&gt;<font color="#795e26">Controller</font>();
// Set the method function
<font color="#001080">$ControllerMethod</font> = <font color="#001080">$_SERVER</font>[<font color="#a31515">'REQUEST_METHOD'</font>];
// Set request body
<font color="#af00db">switch</font> (<font color="#001080">$ControllerMethod</font>)
{
<font color="#af00db">case</font> <font color="#a31515">&quot;</font><font color="#0000ff">DELETE</font><font color="#a31515">&quot;</font>:
<font color="#af00db">case</font> <font color="#a31515">&quot;PUT&quot;</font>:
<font color="#001080">$raw_data</font> = <font color="#795e26">file_get_contents</font>(<font color="#a31515">'php://input'</font>);
<font color="#001080">$ClassObject</font>-&gt;<font color="#001080">RequestBody</font> = <font color="#795e26">array</font>();
<font color="#001080">$boundary</font> = <font color="#795e26">substr</font>(<font color="#001080">$raw_data</font>, <font color="#098658">0</font>, <font color="#795e26">strpos</font>(<font color="#001080">$raw_data</font>, <font color="#a31515">&quot;</font><font color="#ee0000">\r\n</font><font color="#a31515">&quot;</font>));
<font color="#af00db">if</font> (<font color="#001080">$boundary</font> == <font color="#0000ff">null</font> &amp;&amp; <font color="#001080">$raw_data</font> != <font color="#a31515">'null'</font>) <font color="#008000">// x-www-form-urlencoded</font>
{
<font color="#001080">$split_parameters</font> = <font color="#795e26">explode</font>(<font color="#a31515">'&amp;'</font>, <font color="#001080">$raw_data</font>);

<font color="#af00db">for</font>(<font color="#001080">$i</font> = <font color="#098658">0</font>; <font color="#001080">$i</font> &lt; <font color="#795e26">count</font>(<font color="#001080">$split_parameters</font>); <font color="#001080">$i</font>++) {
<font color="#001080">$final_split</font> = <font color="#795e26">explode</font>(<font color="#a31515">'='</font>, <font color="#001080">$split_parameters</font>[<font color="#001080">$i</font>]);
<font color="#001080">$ClassObject</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#001080">$final_split</font>[<font color="#098658">0</font>]] = <font color="#001080">$final_split</font>[<font color="#098658">1</font>];
}
}
<font color="#af00db">else</font> <font color="#af00db">if</font> (<font color="#001080">$raw_data</font> != <font color="#a31515">'null'</font>)
{
<font color="#001080">$parts</font> = <font color="#795e26">array_slice</font>(<font color="#795e26">explode</font>(<font color="#001080">$boundary</font>, <font color="#001080">$raw_data</font>), <font color="#098658">1</font>);
<font color="#af00db">foreach</font> (<font color="#001080">$parts</font> as <font color="#001080">$part</font>) {
<font color="#af00db">if</font> (<font color="#001080">$part</font> == <font color="#a31515">&quot;--</font><font color="#ee0000">\r\n</font><font color="#a31515">&quot;</font>) <font color="#af00db">break</font>; 
<font color="#001080">$part</font> = <font color="#795e26">ltrim</font>(<font color="#001080">$part</font>, <font color="#a31515">&quot;</font><font color="#ee0000">\r\n</font><font color="#a31515">&quot;</font>);
<font color="#795e26">list</font>(<font color="#001080">$raw_headers</font>, <font color="#001080">$body</font>) = <font color="#795e26">explode</font>(<font color="#a31515">&quot;</font><font color="#ee0000">\r\n\r\n</font><font color="#a31515">&quot;</font>, <font color="#001080">$part</font>, <font color="#098658">2</font>);
<font color="#001080">$raw_headers</font> = <font color="#795e26">explode</font>(<font color="#a31515">&quot;</font><font color="#ee0000">\r\n</font><font color="#a31515">&quot;</font>, <font color="#001080">$raw_headers</font>);
<font color="#001080">$headers</font> = <font color="#795e26">array</font>();
<font color="#af00db">foreach</font> (<font color="#001080">$raw_headers</font> as <font color="#001080">$header</font>) {
<font color="#795e26">list</font>(<font color="#001080">$name</font>, <font color="#001080">$value</font>) = <font color="#795e26">explode</font>(<font color="#a31515">':'</font>, <font color="#001080">$header</font>);
<font color="#001080">$headers</font>[<font color="#795e26">strtolower</font>(<font color="#001080">$name</font>)] = <font color="#795e26">ltrim</font>(<font color="#001080">$value</font>, <font color="#a31515">' '</font>); 
}
<font color="#af00db">if</font> (<font color="#795e26">isset</font>(<font color="#001080">$headers</font>[<font color="#a31515">'content-disposition'</font>])) {
<font color="#001080">$filename</font> = <font color="#0000ff">null</font>;
<font color="#795e26">preg_match</font>(
<font color="#811f3f">'/</font>^<font color="#811f3f">(.</font>+<font color="#811f3f">); </font>*<font color="#811f3f">name=&quot;([^&quot;]</font>+<font color="#811f3f">)&quot;(; </font>*<font color="#811f3f">filename=&quot;([^&quot;]</font>+<font color="#811f3f">)&quot;)?/'</font>, 
<font color="#001080">$headers</font>[<font color="#a31515">'content-disposition'</font>], 
$matches
);
<font color="#795e26">list</font>(, <font color="#001080">$type</font>, <font color="#001080">$name</font>) = <font color="#001080">$matches</font>;
<font color="#795e26">isset</font>(<font color="#001080">$matches</font>[<font color="#098658">4</font>]) and <font color="#001080">$filename</font> = <font color="#001080">$matches</font>[<font color="#098658">4</font>]; 
<font color="#af00db">switch</font> (<font color="#001080">$name</font>) {
<font color="#af00db">case</font> <font color="#a31515">'Personfile'</font>:
<font color="#795e26">file_put_contents</font>(<font color="#001080">$filename</font>, <font color="#001080">$body</font>);
<font color="#af00db">break</font>;
<font color="#af00db">default</font>: 
<font color="#001080">$ClassObject</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#001080">$name</font>] = <font color="#795e26">substr</font>(<font color="#001080">$body</font>, <font color="#098658">0</font>, <font color="#795e26">strlen</font>(<font color="#001080">$body</font>) - <font color="#098658">2</font>);
<font color="#af00db">break</font>;
} 
}

}
}
else
{
<font color="#001080">$url</font> = <font color="#001080">$_SERVER</font>[<font color="#a31515">'REQUEST_URI'</font>];

<font color="#001080">$split_parameters</font> = <font color="#795e26">explode</font>(<font color="#a31515">'&amp;'</font>, <font color="#001080">$url</font>);

<font color="#af00db">for</font>(<font color="#001080">$i</font> = <font color="#098658">0</font>; <font color="#001080">$i</font> &lt; <font color="#795e26">count</font>(<font color="#001080">$split_parameters</font>); <font color="#001080">$i</font>++) {
<font color="#001080">$final_split</font> = <font color="#795e26">explode</font>(<font color="#a31515">'='</font>, <font color="#001080">$split_parameters</font>[<font color="#001080">$i</font>]);
<font color="#001080">$ClassObject</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#001080">$final_split</font>[<font color="#098658">0</font>]] = <font color="#001080">$final_split</font>[<font color="#098658">1</font>];
}
}
<font color="#af00db">break</font>;

<font color="#af00db">case</font> <font color="#a31515">&quot;POST&quot;</font>:
<font color="#001080">$ClassObject</font>-&gt;<font color="#001080">RequestBody</font> = <font color="#001080">$_POST</font>;
<font color="#795e26">array_push</font>(<font color="#001080">$ClassObject</font>-&gt;<font color="#001080">RequestBody</font>, <font color="#001080">$_FILES</font>);
<font color="#af00db">break</font>;

<font color="#af00db">default</font>:
<font color="#001080">$ClassObject</font>-&gt;<font color="#001080">RequestBody</font> = <font color="#001080">$_GET</font>;
<font color="#795e26">array_push</font>(<font color="#001080">$ClassObject</font>-&gt;<font color="#001080">RequestBody</font>, <font color="#001080">$_FILES</font>);

}
// Call the method if exists
<font color="#af00db">if</font> (!<font color="#795e26">method_exists</font>(<font color="#001080">$ClassObject</font>, <font color="#001080">$ControllerMethod</font>))
<font color="#001080">$ClassObject</font>-&gt;<font color="#795e26">SendResponse</font>(<font color="#098658">404</font>,<font color="#a31515">'Controller Method Not Found.'</font>);
// Set url passed paramters
<font color="#795e26">unset</font>(<font color="#001080">$URL</font>[<font color="#098658">0</font>]);
<font color="#795e26">unset</font>(<font color="#001080">$URL</font>[<font color="#098658">1</font>]);
<font color="#795e26">unset</font>(<font color="#001080">$URL</font>[<font color="#098658">2</font>]);
<font color="#001080">$Params</font> = <font color="#795e26">array_values</font>(<font color="#001080">$URL</font>);

// Call the function
<font color="#af00db">if</font> (_Debug) <font color="#795e26">call_user_func_array</font>([<font color="#001080">$ClassObject</font>, <font color="#001080">$ControllerMethod</font>], <font color="#001080">$Params</font>);
<font color="#af00db">else</font> <font color="#af00db">try</font> {
// Call the method
<font color="#795e26">call_user_func_array</font>([<font color="#001080">$ClassObject</font>, <font color="#001080">$ControllerMethod</font>], <font color="#001080">$Params</font>);
} <font color="#af00db">catch</font> (<font color="#267f99">AuthException</font> <font color="#001080">$exp</font> ){ <font color="#008000">// On auth error</font>
<font color="#001080">$ClassObject</font>-&gt;<font color="#795e26">SendResponse</font>(<font color="#098658">401</font>, <font color="#001080">$exp</font>-&gt;<font color="#795e26">getMessage</font>());
} <font color="#af00db">catch</font> (<font color="#267f99">NotFoundException</font> <font color="#001080">$exp</font> ){ <font color="#008000">// on not found error</font>
<font color="#001080">$ClassObject</font>-&gt;<font color="#795e26">SendResponse</font>(<font color="#098658">404</font>, <font color="#001080">$exp</font>-&gt;<font color="#795e26">getMessage</font>());
}

}
}</pre>
</div>
<ol type="i" start="10">
	<li><h3 dir="ltr" class="filename-heading-1-western"><a name="__RefHeading___Toc11034_2828605944"></a>
	Model.php</h3>
</ol>
<div id="Section33" dir="rtl"><pre dir="ltr" class="western"><font color="#0000ff">class</font> <font color="#267f99">Model</font>{

<font color="#0000ff">public</font> <font color="#267f99">static</font> <font color="#001080">$Connection</font> = <font color="#a31515">''</font>;

/**
* __toString
*
* Returns the connection stirng
* 
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">string</font><font color="#008000"> ConnectionString</font>
*/
<font color="#0000ff">public</font> <font color="#0000ff">function</font> <font color="#795e26">__toString</font>()
{
<font color="#af00db">return</font> <font color="#a31515">'mysql:host='</font> . _DatabaseServer . <font color="#a31515">';dbname='</font> . _DatabaseName;
}

/**
* __construct
*
* Create a connection to database
* 
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">void</font>
*/
<font color="#0000ff">function</font> <font color="#795e26">__construct</font>(<font color="#001080">$PDO</font>=<font color="#0000ff">true</font>)
{
<font color="#af00db">if</font> (<font color="#001080">$PDO</font>)
{
<font color="#001080">$ConnectionParameters</font> = <font color="#795e26">array</font>(<font color="#267f99">PDO</font>::MYSQL_ATTR_INIT_COMMAND =&gt; <font color="#a31515">'SET NAMES latin1'</font>); <font color="#008000">// utf8</font>
<font color="#0000ff">self</font>::<font color="#001080">$Connection</font> = <font color="#0000ff">new</font> <font color="#267f99">PDO</font>((<font color="#0000ff">string</font>)<font color="#0000ff">$this</font>, _DatabaseUsername, _DatabasePassword, <font color="#001080">$ConnectionParameters</font>);
<font color="#af00db">if</font> (_Debug)
<font color="#0000ff">self</font>::<font color="#001080">$Connection</font>-&gt;<font color="#795e26">setAttribute</font>(<font color="#267f99">PDO</font>::ATTR_ERRMODE, <font color="#267f99">PDO</font>::ERRMODE_EXCEPTION);
}
else
{
<font color="#0000ff">self</font>::<font color="#001080">$Connection</font> = @<font color="#0000ff">new</font> <font color="#267f99">mysqli</font>(_DatabaseServer
, _DatabaseUsername
, _DatabasePassword
, _DatabaseName);
<font color="#795e26">mysqli_set_charset</font>(<font color="#0000ff">self</font>::<font color="#001080">$Connection</font>,<font color="#a31515">&quot;latin1&quot;</font>); <font color="#008000">//utf8</font>
}
}

/**
* DoSelect
*
* Runs a select query
* 
<font color="#008000">* </font><font color="#0000ff">@param</font><font color="#008000"> </font><font color="#0000ff">mixed</font><font color="#008000"> $Query</font>
<font color="#008000">* </font><font color="#0000ff">@param</font><font color="#008000"> </font><font color="#0000ff">mixed</font><font color="#008000"> $Values</font>
<font color="#008000">* </font><font color="#0000ff">@param</font><font color="#008000"> </font><font color="#0000ff">mixed</font><font color="#008000"> $FetchStyle</font>
*
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">array</font><font color="#008000"> Query outputs</font>
*/
<font color="#0000ff">function</font> <font color="#795e26">DoSelect</font>(<font color="#001080">$Query</font>, <font color="#001080">$Values</font> = [], <font color="#001080">$FetchStyle</font> = <font color="#267f99">PDO</font>::FETCH_ASSOC)
{
<font color="#001080">$LiveConnection</font> = <font color="#0000ff">self</font>::<font color="#001080">$Connection</font>-&gt;<font color="#795e26">prepare</font>(<font color="#001080">$Query</font>);
<font color="#af00db">foreach</font> (<font color="#001080">$Values</font> as <font color="#001080">$Key</font> =&gt; <font color="#001080">$Value</font>) {
<font color="#af00db">if</font> (<font color="#795e26">gettype</font>(<font color="#001080">$Value</font>) == <font color="#a31515">&quot;integer&quot;</font> || <font color="#795e26">gettype</font>(<font color="#001080">$Value</font>) == <font color="#a31515">&quot;boolean&quot;</font>) <font color="#008000">// Recommended for bit(1) values</font>
<font color="#001080">$LiveConnection</font>-&gt;<font color="#795e26">bindValue</font>(<font color="#001080">$Key</font>, <font color="#001080">$Value</font>, <font color="#267f99">PDO</font>::PARAM_INT);
else
<font color="#001080">$LiveConnection</font>-&gt;<font color="#795e26">bindValue</font>(<font color="#001080">$Key</font>, <font color="#001080">$Value</font>);
}
<font color="#001080">$LiveConnection</font>-&gt;<font color="#795e26">execute</font>();
<font color="#001080">$Result</font> = <font color="#001080">$LiveConnection</font>-&gt;<font color="#795e26">fetchAll</font>(<font color="#001080">$FetchStyle</font>);
<font color="#af00db">return</font> <font color="#001080">$Result</font>;
}

/**
* DoQuery
*
* Runs a executing query
* 
<font color="#008000">* </font><font color="#0000ff">@param</font><font color="#008000"> </font><font color="#0000ff">mixed</font><font color="#008000"> $Query</font>
<font color="#008000">* </font><font color="#0000ff">@param</font><font color="#008000"> </font><font color="#0000ff">mixed</font><font color="#008000"> $Values</font>
*
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">void</font>
*/
<font color="#0000ff">function</font> <font color="#795e26">DoQuery</font>(<font color="#001080">$Query</font>, <font color="#001080">$Values</font> = [])
{
<font color="#001080">$LiveConnection</font> = <font color="#0000ff">self</font>::<font color="#001080">$Connection</font>-&gt;<font color="#795e26">prepare</font>(<font color="#001080">$Query</font>);
<font color="#af00db">foreach</font> (<font color="#001080">$Values</font> as <font color="#001080">$Key</font> =&gt; <font color="#001080">$Value</font>) {
<font color="#af00db">if</font> (<font color="#795e26">gettype</font>(<font color="#001080">$Value</font>) == <font color="#a31515">&quot;integer&quot;</font> || <font color="#795e26">gettype</font>(<font color="#001080">$Value</font>) == <font color="#a31515">&quot;boolean&quot;</font>) <font color="#008000">// Recommended for bit(1) values</font>
<font color="#001080">$LiveConnection</font>-&gt;<font color="#795e26">bindValue</font>(<font color="#001080">$Key</font>, <font color="#001080">$Value</font>, <font color="#267f99">PDO</font>::PARAM_INT);
else
<font color="#001080">$LiveConnection</font>-&gt;<font color="#795e26">bindValue</font>(<font color="#001080">$Key</font>, <font color="#001080">$Value</font>);
}
<font color="#af00db">return</font> <font color="#001080">$LiveConnection</font>-&gt;<font color="#795e26">execute</font>();
}
}</pre>
</div>
<ol type="i" start="11">
	<li><h3 dir="ltr" class="filename-heading-1-western"><a name="__RefHeading___Toc1391_13176518901"></a>
	Controller.php</h3>
</ol>
<div id="Section34" dir="rtl"><pre dir="ltr" class="western"><font color="#0000ff">class</font> <font color="#267f99">Controller</font> <font color="#0000ff">extends</font> <font color="#267f99">Middleware</font>{

<font color="#0000ff">protected</font> <font color="#001080">$ViewDirectory</font>;

/**
* __call
*
* Dynamic functions
* 
* Calls helpers and etc...
* with functions in style of
* call_XXXXXX
* 
* 
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">void</font>
*/
<font color="#0000ff">function</font> <font color="#795e26">__call</font>(<font color="#001080">$func</font>, <font color="#001080">$params</font>) {
<font color="#001080">$prefix</font> = <font color="#795e26">substr</font>(<font color="#001080">$func</font>, <font color="#098658">0</font>, <font color="#098658">5</font>);
<font color="#af00db">if</font> (<font color="#001080">$prefix</font> == <font color="#a31515">'call_'</font>)
{
<font color="#001080">$func</font> = <font color="#795e26">substr</font>(<font color="#001080">$func</font>, <font color="#098658">5</font>);
<font color="#af00db">foreach</font> (<font color="#795e26">glob</font>(<font color="#a31515">&quot;Helper/*.php&quot;</font>) as <font color="#001080">$key</font>=&gt;<font color="#001080">$value</font>)
{
<font color="#af00db">if</font> (<font color="#001080">$value</font> == <font color="#a31515">'Helper/'</font> . <font color="#001080">$func</font> . <font color="#a31515">'.php'</font>)
{
<font color="#795e26">include</font>(<font color="#a31515">'Helper/'</font> . <font color="#001080">$func</font> . <font color="#a31515">'.php'</font>);
}
}
}
}

/**
* __construct
*
* Responsible for statistics
* 
* 
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">void</font>
*/
<font color="#0000ff">function</font> <font color="#795e26">__construct</font>() {

// If system was configured to disable statistics
<font color="#af00db">if</font> (!_Statistics)
<font color="#af00db">return</font>;

// Call the model
<font color="#001080">$Model</font> = <font color="#0000ff">$this</font>-&gt;<font color="#795e26">CallModel</font>(<font color="#a31515">&quot;Statistics&quot;</font>);
// Bind values
<font color="#001080">$Values</font> = [
<font color="#a31515">&quot;CONTEXT_DOCUMENT_ROOT&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;CONTEXT_DOCUMENT_ROOT&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;CONTEXT_DOCUMENT_ROOT&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;CONTEXT_PREFIX&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;CONTEXT_PREFIX&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;CONTEXT_PREFIX&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;DOCUMENT_ROOT&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;DOCUMENT_ROOT&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;DOCUMENT_ROOT&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;GATEWAY_INTERFACE&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;GATEWAY_INTERFACE&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;GATEWAY_INTERFACE&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;HTTP_ACCEPT&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_ACCEPT&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_ACCEPT&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;HTTP_ACCEPT_ENCODING&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_ACCEPT_ENCODING&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_ACCEPT_ENCODING&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;HTTP_ACCEPT_LANGUAGE&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_ACCEPT_LANGUAGE&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_ACCEPT_LANGUAGE&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;HTTP_CACHE_CONTROL&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_CACHE_CONTROL&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_CACHE_CONTROL&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;HTTP_CONNECTION&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_CONNECTION&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_CONNECTION&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;HTTP_COOKIE&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_COOKIE&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_COOKIE&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;HTTP_HOST&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_HOST&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_HOST&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;HTTP_REFERER&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_REFERER&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_REFERER&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;HTTP_SEC_FETCH_DEST&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_SEC_FETCH_DEST&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_SEC_FETCH_DEST&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;HTTP_SEC_FETCH_MODE&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_SEC_FETCH_MODE&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_SEC_FETCH_MODE&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;HTTP_SEC_FETCH_SITE&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_SEC_FETCH_SITE&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_SEC_FETCH_SITE&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;HTTP_SEC_FETCH_Person&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_SEC_FETCH_Person&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_SEC_FETCH_Person&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;HTTP_UPGRADE_INSECURE_REQUESTS&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_UPGRADE_INSECURE_REQUESTS&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_UPGRADE_INSECURE_REQUESTS&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;HTTP_Person_AGENT&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_Person_AGENT&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;HTTP_Person_AGENT&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;PATH&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;PATH&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;PATH&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;PATH_INFO&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;PATH_INFO&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;PATH_INFO&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;PATH_TRANSLATED&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;PATH_TRANSLATED&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;PATH_TRANSLATED&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;PHP_SELF&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;PHP_SELF&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;PHP_SELF&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;QUERY_STRING&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;QUERY_STRING&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;QUERY_STRING&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;REDIRECT_STATUS&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;REDIRECT_STATUS&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;REDIRECT_STATUS&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;REDIRECT_URL&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;REDIRECT_URL&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;REDIRECT_URL&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;REMOTE_ADDR&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;REMOTE_ADDR&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;REMOTE_ADDR&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;REMOTE_PORT&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;REMOTE_PORT&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;REMOTE_PORT&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;REQUEST_METHOD&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;REQUEST_METHOD&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;REQUEST_METHOD&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;REQUEST_SCHEME&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;REQUEST_SCHEME&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;REQUEST_SCHEME&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;REQUEST_TIME&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;REQUEST_TIME&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;REQUEST_TIME&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;REQUEST_TIME_FLOAT&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;REQUEST_TIME_FLOAT&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;REQUEST_TIME_FLOAT&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;REQUEST_URI&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;REQUEST_URI&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;REQUEST_URI&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;SCRIPT_FILENAME&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;SCRIPT_FILENAME&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;SCRIPT_FILENAME&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;SCRIPT_NAME&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;SCRIPT_NAME&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;SCRIPT_NAME&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;SERVER_ADDR&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;SERVER_ADDR&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;SERVER_ADDR&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;SERVER_ADMIN&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;SERVER_ADMIN&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;SERVER_ADMIN&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;SERVER_NAME&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;SERVER_NAME&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;SERVER_NAME&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;SERVER_PORT&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;SERVER_PORT&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;SERVER_PORT&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;SERVER_PROTOCOL&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;SERVER_PROTOCOL&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;SERVER_PROTOCOL&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;SERVER_SIGNATURE&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;SERVER_SIGNATURE&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;SERVER_SIGNATURE&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
<font color="#a31515">&quot;SERVER_SOFTWARE&quot;</font> =&gt; <font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;SERVER_SOFTWARE&quot;</font>]) ? <font color="#001080">$_SERVER</font>[<font color="#a31515">&quot;SERVER_SOFTWARE&quot;</font>] : <font color="#a31515">&quot;&quot;</font>,
// &quot;HTTP_CLIENT_IP&quot; =&gt; isset($_SERVER[&quot;HTTP_CLIENT_IP&quot;]) ? $_SERVER[&quot;HTTP_CLIENT_IP&quot;] : &quot;&quot;,
// &quot;HTTP_X_FORWARDED_FOR&quot; =&gt; isset($_SERVER[&quot;HTTP_X_FORWARDED_FOR&quot;]) ? $_SERVER[&quot;HTTP_X_FORWARDED_FOR&quot;] : &quot;&quot;,
];

// Insert rows
<font color="#001080">$Rows</font> = <font color="#001080">$Model</font>-&gt;<font color="#795e26">InsertVisit</font>(<font color="#001080">$Values</font>);
}

/**
* SetViewDirectory
*
* A simple setter for $ViewDirectory
* which we call it from App.php
* 
<font color="#008000">* </font><font color="#0000ff">@param</font><font color="#008000"> </font><font color="#0000ff">mixed</font><font color="#008000"> $Value</font>
*
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">void</font>
*/
<font color="#0000ff">function</font> <font color="#795e26">SetViewDirectory</font>(<font color="#0000ff">string</font> <font color="#001080">$Value</font>){
<font color="#0000ff">$this</font>-&gt;<font color="#001080">ViewDirectory</font> = <font color="#001080">$Value</font>;
}

/**
* 
* GetPayload
* 
* Extract head and tail from file
* 
*/
<font color="#0000ff">private</font> <font color="#0000ff">function</font> <font color="#795e26">GetPayload</font>(<font color="#001080">$ViewFile</font>, <font color="#001080">$ExcludePayload</font> = <font color="#0000ff">false</font>){
<font color="#001080">$Separator</font> = <font color="#a31515">'&lt;!--PAYLOAD_CONTENT_END--&gt;'</font>;
<font color="#001080">$TextInsideFile</font> = <font color="#795e26">file_get_contents</font>(<font color="#001080">$ViewFile</font>);
// If text does not contains the payload pointer
<font color="#af00db">if</font> (<font color="#795e26">strpos</font>(<font color="#001080">$TextInsideFile</font>, <font color="#001080">$Separator</font>) == <font color="#0000ff">false</font>)
<font color="#af00db">if</font> (<font color="#001080">$ExcludePayload</font>)
<font color="#af00db">return</font> <font color="#001080">$TextInsideFile</font>;
<font color="#af00db">else</font> <font color="#af00db">return</font> <font color="#a31515">&quot;&quot;</font>;
// If head
<font color="#af00db">if</font> (!<font color="#001080">$ExcludePayload</font> and (<font color="#795e26">strpos</font>(<font color="#001080">$TextInsideFile</font>, <font color="#001080">$Separator</font>) !== <font color="#0000ff">false</font>))
<font color="#001080">$TextInsideFile</font> = <font color="#795e26">substr</font>(<font color="#001080">$TextInsideFile</font>, <font color="#098658">0</font>, <font color="#795e26">strpos</font>(<font color="#001080">$TextInsideFile</font>, <font color="#001080">$Separator</font>));
// If separator does not exist
<font color="#af00db">else</font> <font color="#af00db">if</font> (!<font color="#001080">$ExcludePayload</font> and !(<font color="#795e26">strpos</font>(<font color="#001080">$TextInsideFile</font>, <font color="#001080">$Separator</font>) !== <font color="#0000ff">false</font>))
<font color="#001080">$TextInsideFile</font> = <font color="#a31515">''</font>;
// If tail
else
<font color="#001080">$TextInsideFile</font> = <font color="#795e26">substr</font>(<font color="#001080">$TextInsideFile</font>, <font color="#795e26">strpos</font>(<font color="#001080">$TextInsideFile</font>, <font color="#001080">$Separator</font>) + <font color="#795e26">strlen</font>(<font color="#001080">$Separator</font>));
<font color="#af00db">return</font> <font color="#001080">$TextInsideFile</font>;
}

/**
* RenderBody
*
* Returns header and footer of the layout file
* 
<font color="#008000">* </font><font color="#0000ff">@param</font><font color="#008000"> </font><font color="#0000ff">mixed</font><font color="#008000"> $LayoutFile</font>
<font color="#008000">* </font><font color="#0000ff">@param</font><font color="#008000"> </font><font color="#0000ff">mixed</font><font color="#008000"> $Head</font>
*
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">void</font>
*/
<font color="#0000ff">private</font> <font color="#0000ff">function</font> <font color="#795e26">RenderBody</font>(<font color="#001080">$LayoutFile</font>, <font color="#001080">$Head</font>){
<font color="#001080">$Separator</font> = <font color="#a31515">'&lt;!--VIEW_CONTENT--&gt;'</font>;
<font color="#001080">$TextInsideFile</font> = <font color="#795e26">file_get_contents</font>(<font color="#001080">$LayoutFile</font>);
// If head
<font color="#af00db">if</font> (<font color="#001080">$Head</font> and (<font color="#795e26">strpos</font>(<font color="#001080">$TextInsideFile</font>, <font color="#001080">$Separator</font>) !== <font color="#0000ff">false</font>) )
<font color="#001080">$TextInsideFile</font> = <font color="#795e26">substr</font>(<font color="#001080">$TextInsideFile</font>, <font color="#098658">0</font>, <font color="#795e26">strpos</font>(<font color="#001080">$TextInsideFile</font>, <font color="#001080">$Separator</font>));
// If separator does not exist
<font color="#af00db">else</font> <font color="#af00db">if</font> (<font color="#001080">$Head</font> and !(<font color="#795e26">strpos</font>(<font color="#001080">$TextInsideFile</font>, <font color="#001080">$Separator</font>) !== <font color="#0000ff">false</font>))
<font color="#001080">$TextInsideFile</font> = <font color="#a31515">''</font>;
// If tail
else
<font color="#001080">$TextInsideFile</font> = <font color="#795e26">substr</font>(<font color="#001080">$TextInsideFile</font>, <font color="#795e26">strpos</font>(<font color="#001080">$TextInsideFile</font>, <font color="#001080">$Separator</font>) + <font color="#795e26">strlen</font>(<font color="#001080">$Separator</font>));
<font color="#af00db">return</font> <font color="#001080">$TextInsideFile</font>;
}

/**
* Evaluate
*
* An `include`-based equivalent to php eval code
* 
<font color="#008000">* </font><font color="#0000ff">@param</font><font color="#008000"> </font><font color="#0000ff">mixed</font><font color="#008000"> $Code</font>
*
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">void</font>
*/
<font color="#0000ff">private</font> <font color="#0000ff">function</font> <font color="#795e26">Evaluate</font>(<font color="#001080">$Code</font>, <font color="#001080">$Data</font> = []) {

// Algorithm
// 1. Create a temp file from payload
// 2. Include the payload
<font color="#001080">$TempPointer</font> = <font color="#795e26">tmpfile</font>();
<font color="#795e26">fwrite</font>(<font color="#001080">$TempPointer</font>, <font color="#001080">$Code</font>);
<font color="#001080">$MetaData</font> = <font color="#795e26">stream_get_meta_data</font>(<font color="#001080">$TempPointer</font>);
<font color="#001080">$TempFileName</font> = <font color="#001080">$MetaData</font>[<font color="#a31515">'uri'</font>];
<font color="#795e26">chmod</font>(<font color="#001080">$TempFileName</font>, <font color="#098658">775</font>);
<font color="#795e26">include</font>(<font color="#001080">$TempFileName</font>);
<font color="#795e26">fclose</font>(<font color="#001080">$TempPointer</font>);
}

/**
* Render
*
* Renders the view
* 
<font color="#008000">* </font><font color="#0000ff">@param</font><font color="#008000"> </font><font color="#0000ff">mixed</font><font color="#008000"> $View</font>
<font color="#008000">* </font><font color="#0000ff">@param</font><font color="#008000"> </font><font color="#0000ff">mixed</font><font color="#008000"> $Data</font>
*
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">void</font>
*/
<font color="#0000ff">function</font> <font color="#795e26">Render</font>(<font color="#001080">$View</font>, <font color="#001080">$Data</font> = [], <font color="#001080">$IsPartial</font> = <font color="#0000ff">false</font>)
{
// The current view file
<font color="#001080">$CurrentViewFile</font> = <font color="#a31515">'View/'</font> . <font color="#0000ff">$this</font>-&gt;<font color="#001080">ViewDirectory</font> . <font color="#a31515">'/'</font> . <font color="#001080">$View</font> . <font color="#a31515">'.php'</font>;
// Run the payload for current file
<font color="#0000ff">$this</font>-&gt;<font color="#795e26">Evaluate</font>(<font color="#0000ff">$this</font>-&gt;<font color="#795e26">GetPayload</font>(<font color="#001080">$CurrentViewFile</font>, <font color="#0000ff">false</font>), <font color="#001080">$Data</font>);
// Get master layout head
<font color="#af00db">if</font> (!<font color="#001080">$IsPartial</font>)
<font color="#0000ff">$this</font>-&gt;<font color="#795e26">Evaluate</font>(<font color="#0000ff">$this</font>-&gt;<font color="#795e26">RenderBody</font>(<font color="#a31515">'View/_Layout.php'</font>, <font color="#0000ff">true</font>), <font color="#001080">$Data</font>);
// Get slave layout head
<font color="#af00db">if</font> (!<font color="#001080">$IsPartial</font>)
<font color="#af00db">if</font> (<font color="#795e26">file_exists</font>(<font color="#a31515">'View/'</font> . <font color="#0000ff">$this</font>-&gt;<font color="#001080">ViewDirectory</font> . <font color="#a31515">'/_Layout.php'</font>))
<font color="#0000ff">$this</font>-&gt;<font color="#795e26">Evaluate</font>(<font color="#0000ff">$this</font>-&gt;<font color="#795e26">RenderBody</font>(<font color="#a31515">'View/'</font> . <font color="#0000ff">$this</font>-&gt;<font color="#001080">ViewDirectory</font> . <font color="#a31515">'/_Layout.php'</font>, <font color="#0000ff">true</font>), <font color="#001080">$Data</font>);
// Render the view body
<font color="#0000ff">$this</font>-&gt;<font color="#795e26">Evaluate</font>(<font color="#0000ff">$this</font>-&gt;<font color="#795e26">GetPayload</font>(<font color="#001080">$CurrentViewFile</font>, <font color="#0000ff">true</font>), <font color="#001080">$Data</font>);
// Get slave layout tail
<font color="#af00db">if</font> (!<font color="#001080">$IsPartial</font>)
<font color="#af00db">if</font> (<font color="#795e26">file_exists</font>(<font color="#a31515">'View/'</font> . <font color="#0000ff">$this</font>-&gt;<font color="#001080">ViewDirectory</font> . <font color="#a31515">'/_Layout.php'</font>))
<font color="#0000ff">$this</font>-&gt;<font color="#795e26">Evaluate</font>(<font color="#0000ff">$this</font>-&gt;<font color="#795e26">RenderBody</font>(<font color="#a31515">'View/'</font> . <font color="#0000ff">$this</font>-&gt;<font color="#001080">ViewDirectory</font> . <font color="#a31515">'/_Layout.php'</font>, <font color="#0000ff">false</font>), <font color="#001080">$Data</font>);
// Get master layout tail
<font color="#af00db">if</font> (!<font color="#001080">$IsPartial</font>)
<font color="#0000ff">$this</font>-&gt;<font color="#795e26">Evaluate</font>(<font color="#0000ff">$this</font>-&gt;<font color="#795e26">RenderBody</font>(<font color="#a31515">'View/_Layout.php'</font>, <font color="#0000ff">false</font>), <font color="#001080">$Data</font>);

}

/**
* RedirectResponse
*
* Sets the header to redirect
* 
<font color="#008000">* </font><font color="#0000ff">@param</font><font color="#008000"> </font><font color="#0000ff">mixed</font><font color="#008000"> $Route</font>
*
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">void</font>
*/
<font color="#0000ff">function</font> <font color="#795e26">RedirectResponse</font>(<font color="#001080">$Route</font>)
{
<font color="#795e26">header</font>(<font color="#a31515">&quot;Location: &quot;</font> . <font color="#001080">$Route</font>);
}
<br/>

/**
* CheckLogin
*
* Check the auth for Person
* Automatially detects where to find username and password
* 
<font color="#008000">* </font><font color="#0000ff">@param</font><font color="#008000"> </font><font color="#0000ff">mixed</font><font color="#008000"> $Role</font>
*
<font color="#008000">* </font><font color="#0000ff">@return</font><font color="#008000"> </font><font color="#0000ff">void</font>
*/
<font color="#0000ff">function</font> <font color="#795e26">CheckLogin</font>(<font color="#001080">$Role</font> = <font color="#a31515">'admin'</font>)
{
// If values not set
<font color="#af00db">if</font> (<font color="#795e26">isset</font>(<font color="#001080">$_SERVER</font>[<font color="#a31515">'PHP_AUTH_USER'</font>]))
{
// Get values from HTTP Authenticate
<font color="#001080">$Values</font> = [
<font color="#a31515">'Username'</font> =&gt; <font color="#001080">$_SERVER</font>[<font color="#a31515">'PHP_AUTH_USER'</font>],
<font color="#a31515">'Password'</font> =&gt; <font color="#001080">$_SERVER</font>[<font color="#a31515">'PHP_AUTH_PW'</font>]
];
// Check with DB
<font color="#af00db">if</font> (!(<font color="#0000ff">new</font> <font color="#267f99">Auth</font>(<font color="#0000ff">$this</font>))-&gt;<font color="#795e26">CheckLogin</font>(<font color="#001080">$Values</font>, <font color="#001080">$Role</font>))
<font color="#af00db">throw</font> <font color="#0000ff">new</font> <font color="#267f99">AuthException</font>(<font color="#a31515">'Invalid Login.'</font>);
<font color="#af00db">else</font> <font color="#af00db">return</font> <font color="#0000ff">true</font>;
}
<font color="#af00db">else</font> <font color="#af00db">if</font> (<font color="#795e26">isset</font>(<font color="#001080">$_COOKIE</font>[<font color="#a31515">'Username'</font>]))
{
// Get values from cookies
<font color="#001080">$Values</font> = [
<font color="#a31515">'Username'</font> =&gt; <font color="#001080">$_COOKIE</font>[<font color="#a31515">'Username'</font>],
<font color="#a31515">'Password'</font> =&gt; <font color="#001080">$_COOKIE</font>[<font color="#a31515">'Password'</font>]
];
// TODO: check with token instead of password
// Check with DB
<font color="#af00db">if</font> (!(<font color="#0000ff">new</font> <font color="#267f99">Auth</font>(<font color="#0000ff">$this</font>))-&gt;<font color="#795e26">CheckLogin</font>(<font color="#001080">$Values</font>, <font color="#001080">$Role</font>))
<font color="#af00db">throw</font> <font color="#0000ff">new</font> <font color="#267f99">AuthException</font>(<font color="#a31515">'Invalid Login.'</font>);
<font color="#af00db">else</font> <font color="#af00db">return</font> <font color="#0000ff">true</font>;
}
<font color="#af00db">else</font> 
<font color="#af00db">throw</font> <font color="#0000ff">new</font> <font color="#267f99">AuthException</font>(<font color="#a31515">'Login Required.'</font>);
<font color="#af00db">return</font> <font color="#0000ff">false</font>;
}
}</pre>
</div>
<ol type="i" start="12">
	<li><h3 dir="ltr" class="filename-heading-1-western"><a name="__RefHeading___Toc11036_2828605944"></a>
	ApiController.php</h3>
</ol>
<div id="Section35" dir="rtl"><pre dir="ltr" class="western"><font color="#0000ff">class</font> <font color="#267f99">ApiApp</font>
{
<font color="#0000ff">protected</font> <font color="#001080">$HttpStatus</font>;
<font color="#0000ff">protected</font> <font color="#001080">$Controller</font>;
<font color="#0000ff">protected</font> <font color="#001080">$Version</font>;
<font color="#0000ff">function</font> <font color="#795e26">__construct</font>(){

// Get URL
<font color="#001080">$URL</font> = <font color="#267f99">Route</font>::<font color="#795e26">GetPathInfo</font>();

// Routing
// Version
<font color="#0000ff">$this</font>-&gt;<font color="#001080">Version</font> = <font color="#001080">$URL</font>[<font color="#098658">1</font>];
// Controller
<font color="#af00db">if</font> (<font color="#795e26">strpos</font>(<font color="#001080">$URL</font>[<font color="#098658">2</font>], <font color="#a31515">'?'</font>) !== <font color="#0000ff">false</font>)
{
<font color="#001080">$URL</font>[<font color="#098658">2</font>] = <font color="#795e26">substr</font>(<font color="#001080">$URL</font>[<font color="#098658">2</font>], <font color="#098658">0</font>, <font color="#795e26">strpos</font>(<font color="#001080">$URL</font>[<font color="#098658">2</font>], <font color="#a31515">'?'</font>));
// As $_GET is passed as keyvalue array
// which is not simple editable
<font color="#001080">$key</font> = <font color="#795e26">array_keys</font>(<font color="#001080">$_GET</font>)[<font color="#098658">0</font>];
<font color="#001080">$value</font> = <font color="#795e26">array_values</font>(<font color="#001080">$_GET</font>)[<font color="#098658">0</font>];
<font color="#795e26">unset</font>(<font color="#001080">$_GET</font>[<font color="#001080">$key</font>]);
<font color="#001080">$key</font> = <font color="#795e26">substr</font>(<font color="#001080">$key</font>, <font color="#795e26">strpos</font>(<font color="#001080">$key</font>, <font color="#a31515">'?'</font>) + <font color="#098658">1</font>);
<font color="#001080">$_GET</font> = <font color="#795e26">array_reverse</font>(<font color="#001080">$_GET</font>);
<font color="#001080">$_GET</font>[<font color="#001080">$key</font>] = <font color="#001080">$value</font>;
<font color="#001080">$_GET</font> = <font color="#795e26">array_reverse</font>(<font color="#001080">$_GET</font>);
}
<font color="#0000ff">$this</font>-&gt;<font color="#001080">Controller</font> = <font color="#001080">$URL</font>[<font color="#098658">2</font>].<font color="#a31515">'Controller'</font>;
// Call the method form class
<font color="#001080">$ControllerFilePath</font> = <font color="#a31515">'API/'</font> . <font color="#0000ff">$this</font>-&gt;<font color="#001080">Version</font> . <font color="#a31515">'/'</font> . <font color="#0000ff">$this</font>-&gt;<font color="#001080">Controller</font>.<font color="#a31515">'.php'</font>;
// Include the controller file
<font color="#795e26">include</font>(<font color="#001080">$ControllerFilePath</font>);
// Create an instance of controller class
<font color="#001080">$ClassObject</font> = <font color="#0000ff">new</font> <font color="#0000ff">$this</font>-&gt;<font color="#795e26">Controller</font>();
// Set the method function
<font color="#001080">$ControllerMethod</font> = <font color="#001080">$_SERVER</font>[<font color="#a31515">'REQUEST_METHOD'</font>];
// Set request body
<font color="#af00db">switch</font> (<font color="#001080">$ControllerMethod</font>)
{
<font color="#af00db">case</font> <font color="#a31515">&quot;</font><font color="#0000ff">DELETE</font><font color="#a31515">&quot;</font>:
<font color="#af00db">case</font> <font color="#a31515">&quot;PUT&quot;</font>:
<font color="#001080">$raw_data</font> = <font color="#795e26">file_get_contents</font>(<font color="#a31515">'php://input'</font>);
<font color="#001080">$ClassObject</font>-&gt;<font color="#001080">RequestBody</font> = <font color="#795e26">array</font>();
<font color="#001080">$boundary</font> = <font color="#795e26">substr</font>(<font color="#001080">$raw_data</font>, <font color="#098658">0</font>, <font color="#795e26">strpos</font>(<font color="#001080">$raw_data</font>, <font color="#a31515">&quot;</font><font color="#ee0000">\r\n</font><font color="#a31515">&quot;</font>));
<font color="#af00db">if</font> (<font color="#001080">$boundary</font> == <font color="#0000ff">null</font> &amp;&amp; <font color="#001080">$raw_data</font> != <font color="#a31515">'null'</font>) <font color="#008000">// x-www-form-urlencoded</font>
{
<font color="#001080">$split_parameters</font> = <font color="#795e26">explode</font>(<font color="#a31515">'&amp;'</font>, <font color="#001080">$raw_data</font>);

<font color="#af00db">for</font>(<font color="#001080">$i</font> = <font color="#098658">0</font>; <font color="#001080">$i</font> &lt; <font color="#795e26">count</font>(<font color="#001080">$split_parameters</font>); <font color="#001080">$i</font>++) {
<font color="#001080">$final_split</font> = <font color="#795e26">explode</font>(<font color="#a31515">'='</font>, <font color="#001080">$split_parameters</font>[<font color="#001080">$i</font>]);
<font color="#001080">$ClassObject</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#001080">$final_split</font>[<font color="#098658">0</font>]] = <font color="#001080">$final_split</font>[<font color="#098658">1</font>];
}
}
<font color="#af00db">else</font> <font color="#af00db">if</font> (<font color="#001080">$raw_data</font> != <font color="#a31515">'null'</font>)
{
<font color="#001080">$parts</font> = <font color="#795e26">array_slice</font>(<font color="#795e26">explode</font>(<font color="#001080">$boundary</font>, <font color="#001080">$raw_data</font>), <font color="#098658">1</font>);
<font color="#af00db">foreach</font> (<font color="#001080">$parts</font> as <font color="#001080">$part</font>) {
<font color="#af00db">if</font> (<font color="#001080">$part</font> == <font color="#a31515">&quot;--</font><font color="#ee0000">\r\n</font><font color="#a31515">&quot;</font>) <font color="#af00db">break</font>; 
<font color="#001080">$part</font> = <font color="#795e26">ltrim</font>(<font color="#001080">$part</font>, <font color="#a31515">&quot;</font><font color="#ee0000">\r\n</font><font color="#a31515">&quot;</font>);
<font color="#795e26">list</font>(<font color="#001080">$raw_headers</font>, <font color="#001080">$body</font>) = <font color="#795e26">explode</font>(<font color="#a31515">&quot;</font><font color="#ee0000">\r\n\r\n</font><font color="#a31515">&quot;</font>, <font color="#001080">$part</font>, <font color="#098658">2</font>);
<font color="#001080">$raw_headers</font> = <font color="#795e26">explode</font>(<font color="#a31515">&quot;</font><font color="#ee0000">\r\n</font><font color="#a31515">&quot;</font>, <font color="#001080">$raw_headers</font>);
<font color="#001080">$headers</font> = <font color="#795e26">array</font>();
<font color="#af00db">foreach</font> (<font color="#001080">$raw_headers</font> as <font color="#001080">$header</font>) {
<font color="#795e26">list</font>(<font color="#001080">$name</font>, <font color="#001080">$value</font>) = <font color="#795e26">explode</font>(<font color="#a31515">':'</font>, <font color="#001080">$header</font>);
<font color="#001080">$headers</font>[<font color="#795e26">strtolower</font>(<font color="#001080">$name</font>)] = <font color="#795e26">ltrim</font>(<font color="#001080">$value</font>, <font color="#a31515">' '</font>); 
}
<font color="#af00db">if</font> (<font color="#795e26">isset</font>(<font color="#001080">$headers</font>[<font color="#a31515">'content-disposition'</font>])) {
<font color="#001080">$filename</font> = <font color="#0000ff">null</font>;
<font color="#795e26">preg_match</font>(
<font color="#811f3f">'/</font>^<font color="#811f3f">(.</font>+<font color="#811f3f">); </font>*<font color="#811f3f">name=&quot;([^&quot;]</font>+<font color="#811f3f">)&quot;(; </font>*<font color="#811f3f">filename=&quot;([^&quot;]</font>+<font color="#811f3f">)&quot;)?/'</font>, 
<font color="#001080">$headers</font>[<font color="#a31515">'content-disposition'</font>], 
$matches
);
<font color="#795e26">list</font>(, <font color="#001080">$type</font>, <font color="#001080">$name</font>) = <font color="#001080">$matches</font>;
<font color="#795e26">isset</font>(<font color="#001080">$matches</font>[<font color="#098658">4</font>]) and <font color="#001080">$filename</font> = <font color="#001080">$matches</font>[<font color="#098658">4</font>]; 
<font color="#af00db">switch</font> (<font color="#001080">$name</font>) {
<font color="#af00db">case</font> <font color="#a31515">'Personfile'</font>:
<font color="#795e26">file_put_contents</font>(<font color="#001080">$filename</font>, <font color="#001080">$body</font>);
<font color="#af00db">break</font>;
<font color="#af00db">default</font>: 
<font color="#001080">$ClassObject</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#001080">$name</font>] = <font color="#795e26">substr</font>(<font color="#001080">$body</font>, <font color="#098658">0</font>, <font color="#795e26">strlen</font>(<font color="#001080">$body</font>) - <font color="#098658">2</font>);
<font color="#af00db">break</font>;
} 
}

}
}
else
{
<font color="#001080">$url</font> = <font color="#001080">$_SERVER</font>[<font color="#a31515">'REQUEST_URI'</font>];

<font color="#001080">$split_parameters</font> = <font color="#795e26">explode</font>(<font color="#a31515">'&amp;'</font>, <font color="#001080">$url</font>);

<font color="#af00db">for</font>(<font color="#001080">$i</font> = <font color="#098658">0</font>; <font color="#001080">$i</font> &lt; <font color="#795e26">count</font>(<font color="#001080">$split_parameters</font>); <font color="#001080">$i</font>++) {
<font color="#001080">$final_split</font> = <font color="#795e26">explode</font>(<font color="#a31515">'='</font>, <font color="#001080">$split_parameters</font>[<font color="#001080">$i</font>]);
<font color="#001080">$ClassObject</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#001080">$final_split</font>[<font color="#098658">0</font>]] = <font color="#001080">$final_split</font>[<font color="#098658">1</font>];
}
}
<font color="#af00db">break</font>;

<font color="#af00db">case</font> <font color="#a31515">&quot;POST&quot;</font>:
<font color="#001080">$ClassObject</font>-&gt;<font color="#001080">RequestBody</font> = <font color="#001080">$_POST</font>;
<font color="#795e26">array_push</font>(<font color="#001080">$ClassObject</font>-&gt;<font color="#001080">RequestBody</font>, <font color="#001080">$_FILES</font>);
<font color="#af00db">break</font>;

<font color="#af00db">case</font> <font color="#a31515">&quot;GET&quot;</font>:
<font color="#001080">$Params</font> = <font color="#795e26">array_values</font>(<font color="#001080">$URL</font>);
<font color="#001080">$sizeofPassedParams</font> = <font color="#795e26">sizeof</font>(<font color="#001080">$Params</font>);
// Check if there is a 'overloaded query string' included
// Then add it to $RequestBody
// Logic: the last paramter must contain a question mark (?)
<font color="#af00db">if</font> (<font color="#001080">$sizeofPassedParams</font> &gt; <font color="#098658">0</font>)
<font color="#af00db">if</font> (<font color="#795e26">strpos</font>(<font color="#001080">$Params</font>[<font color="#001080">$sizeofPassedParams</font> - <font color="#098658">1</font>], <font color="#a31515">'?'</font>) !== <font color="#0000ff">false</font>)
{

// Parse overloaded query strings
<font color="#001080">$KeyValuePairs</font> = <font color="#795e26">explode</font>( <font color="#a31515">'&amp;'</font> , <font color="#008000">// Delimiter</font>
<font color="#795e26">substr</font>(<font color="#001080">$Params</font>[<font color="#001080">$sizeofPassedParams</font> -<font color="#098658">1</font>] <font color="#008000">// string</font>
,<font color="#795e26">strpos</font>(
<font color="#001080">$Params</font>[<font color="#001080">$sizeofPassedParams</font> - <font color="#098658">1</font>]
, <font color="#a31515">'?'</font> <font color="#008000">// Begining of query string</font>
) + <font color="#098658">1</font> <font color="#008000">// start position</font>
) <font color="#008000">// key pairs</font>
); <font color="#008000">// key pairs array</font>

<font color="#af00db">foreach</font> (<font color="#001080">$KeyValuePairs</font> as <font color="#001080">$KeyValue</font>)
{
// If it's a valid keyval pair
// Logic: string contains equal mark (=)
<font color="#af00db">if</font> (<font color="#795e26">strpos</font>(<font color="#001080">$KeyValue</font>, <font color="#a31515">'='</font>) !== <font color="#0000ff">false</font>)
{
<font color="#001080">$Exploded</font> = <font color="#795e26">explode</font>(<font color="#a31515">'='</font>, <font color="#001080">$KeyValue</font>);
<font color="#001080">$ClassObject</font>-&gt;<font color="#001080">RequestBody</font>[<font color="#001080">$Exploded</font>[<font color="#098658">0</font>]] = <font color="#001080">$Exploded</font>[<font color="#098658">1</font>];
}
}
}
<font color="#795e26">array_push</font>(<font color="#001080">$ClassObject</font>-&gt;<font color="#001080">RequestBody</font>, <font color="#001080">$_GET</font>);
<font color="#795e26">array_push</font>(<font color="#001080">$ClassObject</font>-&gt;<font color="#001080">RequestBody</font>, <font color="#001080">$_FILES</font>);

}
// Call the method if exists
<font color="#af00db">if</font> (!<font color="#795e26">method_exists</font>(<font color="#001080">$ClassObject</font>, <font color="#001080">$ControllerMethod</font>))
<font color="#001080">$ClassObject</font>-&gt;<font color="#795e26">SendResponse</font>(<font color="#098658">404</font>,<font color="#a31515">'Controller Method Not Found.'</font>);
// Set url passed paramters
<font color="#795e26">unset</font>(<font color="#001080">$URL</font>[<font color="#098658">0</font>]);
<font color="#795e26">unset</font>(<font color="#001080">$URL</font>[<font color="#098658">1</font>]);
<font color="#795e26">unset</font>(<font color="#001080">$URL</font>[<font color="#098658">2</font>]);
<font color="#001080">$Params</font> = <font color="#795e26">array_values</font>(<font color="#001080">$URL</font>);

// Call the function
<font color="#af00db">if</font> (_Debug) <font color="#795e26">call_user_func_array</font>([<font color="#001080">$ClassObject</font>, <font color="#001080">$ControllerMethod</font>], <font color="#001080">$Params</font>);
<font color="#af00db">else</font> <font color="#af00db">try</font> {
// Call the method
<font color="#795e26">call_user_func_array</font>([<font color="#001080">$ClassObject</font>, <font color="#001080">$ControllerMethod</font>], <font color="#001080">$Params</font>);
} <font color="#af00db">catch</font> (<font color="#267f99">AuthException</font> <font color="#001080">$exp</font> ){ <font color="#008000">// On auth error</font>
<font color="#001080">$ClassObject</font>-&gt;<font color="#795e26">SendResponse</font>(<font color="#098658">401</font>, <font color="#001080">$exp</font>-&gt;<font color="#795e26">getMessage</font>());
} <font color="#af00db">catch</font> (<font color="#267f99">NotFoundException</font> <font color="#001080">$exp</font> ){ <font color="#008000">// on not found error</font>
<font color="#001080">$ClassObject</font>-&gt;<font color="#795e26">SendResponse</font>(<font color="#098658">404</font>, <font color="#001080">$exp</font>-&gt;<font color="#795e26">getMessage</font>());
}

}
}</pre>
</div>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in; page-break-before: always">
<img src="index_html_7f5fd55536ec8c61.png" name="Image2" align="bottom" width="227" height="227" border="0"/>
</p>
<p class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<br/>

</p>
<p dir="ltr" class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><b>Bu-Ali
Sina University</b></font></font></p>
<p dir="ltr" class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><b>Tuyserkan
Faculty of Engineering</b></font></font></p>
<p dir="ltr" class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><b>Department
of Computer Engineering</b></font></font></p>
<p dir="ltr" class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<br/>

</p>
<p dir="ltr" class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><b>B.
Sc. Final Project</b></font></font></p>
<p dir="ltr" class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<br/>

</p>
<p dir="ltr" class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 14pt">title</font></font></p>
<p dir="ltr" class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><b>Architecture
and implementation of back-end software framework</b></font></font></p>
<p dir="ltr" class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<br/>

</p>
<p dir="ltr" class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 14pt">author</font></font></p>
<p dir="ltr" class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><b>Mohammad
R. Tayyebi</b></font></font></p>
<p dir="ltr" class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<br/>

</p>
<p dir="ltr" class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 14pt">supervisor</font></font></p>
<p dir="ltr" class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><b>Mohammad
H. Bamneshin</b></font></font></p>
<p dir="ltr" class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<br/>

</p>
<p dir="ltr" class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<br/>

</p>
<p dir="ltr" class="western" align="center" style="margin-bottom: 0in; line-height: 0.2in">
<font face="B Nazanin"><font size="4" style="font-size: 14pt"><b>date</b></font></font><b>
2020</b></p>
<div id="sdfootnote1"><p dir="ltr" class="sdfootnote-western"><a class="sdfootnotesym" name="sdfootnote1sym" href="#sdfootnote1anc">1</a><a href="https://www.investopedia.com/terms/b/businesslogic.asp">https://www.investopedia.com/terms/b/businesslogic.asp</a></p>
</div>
<div id="sdfootnote2"><p dir="ltr" class="sdfootnote-western"><a class="sdfootnotesym" name="sdfootnote2sym" href="#sdfootnote2anc">2</a><a href="https://www.forcepoint.com/cyber-edu/osi-model">https://www.forcepoint.com/cyber-edu/osi-mode</a></p>
</div>
<div id="sdfootnote3"><p dir="ltr" class="sdfootnote-western"><a class="sdfootnotesym" name="sdfootnote3sym" href="#sdfootnote3anc">3</a><a href="https://www.oracle.com/database/what-is-database">https://www.oracle.com/database/what-is-database</a></p>
</div>
<div id="sdfootnote4"><p dir="ltr" class="sdfootnote-western"><a class="sdfootnotesym" name="sdfootnote4sym" href="#sdfootnote4anc">4</a><a href="https://www.php.net/">https://www.php.net</a></p>
</div>
<div id="sdfootnote5"><p dir="ltr" class="sdfootnote-western"><a class="sdfootnotesym" name="sdfootnote5sym" href="#sdfootnote5anc">5</a><a href="https://www.tutorialspoint.com/software_architecture_design/introduction.htm">https://www.tutorialspoint.com/software_architecture_design/introduction.htm</a></p>
</div>
<div id="sdfootnote6"><p dir="ltr" class="sdfootnote-western"><a class="sdfootnotesym" name="sdfootnote6sym" href="#sdfootnote6anc">6</a><a href="https://www.educba.com/what-is-mvc-design-pattern/">https://www.educba.com/what-is-mvc-design-pattern</a></p>
</div>
<div id="sdfootnote7"><p dir="ltr" class="sdfootnote-western"><a class="sdfootnotesym" name="sdfootnote7sym" href="#sdfootnote7anc">7</a><a href="http://www.jot.fm/issues/issue_2009_07/column5/">http://www.jot.fm/issues/issue_2009_07/column5</a></p>
</div>
</body>
</html>